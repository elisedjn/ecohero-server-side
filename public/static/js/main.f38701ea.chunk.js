(this["webpackJsonpecohero-client-side"]=this["webpackJsonpecohero-client-side"]||[]).push([[0],{103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(34),s=a.n(r),c=(a(76),a(10)),o=a(11),i=a(13),m=a(12),u=(a(77),a(78),a(15)),d="http://localhost:5000",h=a(9),p=a.n(h),g=a(8),E=a(14),v=a(27),f=a(37),b=a(5);a(96);function N(e){return l.a.createElement("div",null,l.a.createElement(v.a,{collapseOnSelect:!0,id:"myNavBar",fixed:"top",variant:"light",expand:"lg"},l.a.createElement("div",{id:"fakeitem"}),l.a.createElement(v.a.Brand,{href:"/"},l.a.createElement("img",{src:"/images/ecohero_logo.png",alt:"EH"})," EcoHero"),l.a.createElement(v.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(v.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(f.a,{className:"mr-auto"},l.a.createElement(v.a.Toggle,null,l.a.createElement(b.b,{to:"/challenges","data-toggle":"collapse"},"Challenges")),l.a.createElement(v.a.Toggle,null,l.a.createElement(b.b,{to:"/ranks","data-toggle":"collapse"},"Ranks")),l.a.createElement(v.a.Toggle,null,l.a.createElement(b.b,{to:"/leaderboard","data-toggle":"collapse"},"Hall of Heroes")),e.loggedInUser?l.a.createElement(v.a.Toggle,{className:"auth-link"},l.a.createElement("button",{onClick:e.onLogOut,"data-toggle":"collapse"},"Logout")):l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a.Toggle,{className:"auth-link"},l.a.createElement(b.b,{to:"/signup","data-toggle":"collapse"},"Sing Up")),l.a.createElement(v.a.Toggle,{className:"auth-link"},l.a.createElement(b.b,{to:"/login","data-toggle":"collapse"},"Login")))))))}var y=a(6);a(103);var C=function(e){return l.a.createElement("div",{id:"signup"},l.a.createElement(y.a,{className:"formUp",onSubmit:e.onSignUp},l.a.createElement(y.a.Group,null,l.a.createElement(y.a.Label,null,"Username"),l.a.createElement(y.a.Control,{type:"text",placeholder:"Enter username",name:"username"})),l.a.createElement(y.a.Group,null,l.a.createElement(y.a.Label,null,"Email address"),l.a.createElement(y.a.Control,{type:"email",placeholder:"Enter email",name:"email"}),l.a.createElement(y.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),l.a.createElement(y.a.Group,null,l.a.createElement(y.a.Label,null,"Password"),l.a.createElement(y.a.Control,{type:"password",placeholder:"Password",name:"password"})),l.a.createElement(y.a.Text,{className:"small-text"},"Already a member? ",l.a.createElement(b.b,{to:"/login"},"Login")),l.a.createElement("div",{className:"signUpBtn"},l.a.createElement(E.a,{className:"signUpBtnClick",variant:"primary",type:"submit"},l.a.createElement("img",{className:"leaf1",src:"/images/plant02.png",alt:"o"}),"Sign Up",l.a.createElement("img",{className:"leaf2",src:"/images/plant.png",alt:"o"})))))};a(104);var w=function(e){return l.a.createElement("div",{id:"login"},l.a.createElement(y.a,{className:"formIn",onSubmit:e.onLogIn},l.a.createElement(y.a.Group,null,l.a.createElement(y.a.Label,null,"Email address"),l.a.createElement(y.a.Control,{type:"email",placeholder:"Enter email",name:"email"})),l.a.createElement(y.a.Group,null,l.a.createElement(y.a.Label,null,"Password"),l.a.createElement(y.a.Control,{type:"password",placeholder:"Enter Password",name:"password"})),l.a.createElement(y.a.Text,{className:"small-text"},"Not a member yet? ",l.a.createElement(b.b,{to:"/signup"},"Sign Up")),l.a.createElement("div",{className:"loginBtn"},l.a.createElement(E.a,{className:"loginBtnClick",variant:"primary",type:"submit"},l.a.createElement("img",{className:"leaf1",src:"/images/plant02.png",alt:"o"}),"Log In",l.a.createElement("img",{className:"leaf2",src:"/images/plant.png",alt:"o"})))))},k=(a(105),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"listContainer"},l.a.createElement("h4",{className:"rankTitle"},"Ranking System"),l.a.createElement("div",{className:"rankContainer"},l.a.createElement("div",{className:"rankAlign"},l.a.createElement("h5",null,l.a.createElement("strong",null,"New Hero")),l.a.createElement("p",null,"0-9.999 points"))),l.a.createElement("div",{className:"rankContainer"},l.a.createElement("div",{className:"rankAlign"},l.a.createElement("h5",null,l.a.createElement("strong",null,"Chill Hero")),l.a.createElement("p",null,"10.000-24.999 points")),l.a.createElement("p",{className:"perks"},l.a.createElement("strong",null,"Perks:")," Create groups")),l.a.createElement("div",{className:"rankContainer"},l.a.createElement("div",{className:"rankAlign"},l.a.createElement("h5",null,l.a.createElement("strong",null,"Smart Hero")),l.a.createElement("p",null,"25.000-49.999 points")),l.a.createElement("p",{className:"perks"},l.a.createElement("strong",null,"Perks:")," Create challenges")),l.a.createElement("div",{className:"rankContainer"},l.a.createElement("div",{className:"rankAlign"},l.a.createElement("h5",null,l.a.createElement("strong",null,"Big Hero")),l.a.createElement("p",null,"50.000-99.999 points")),l.a.createElement("p",{className:"perks"},l.a.createElement("strong",null,"Perks:")," 10.000 Bonus points")),l.a.createElement("div",{className:"rankContainer"},l.a.createElement("div",{className:"rankAlign"},l.a.createElement("h5",null,l.a.createElement("strong",null,"Super Hero")),l.a.createElement("p",null,"100.000+ points")),l.a.createElement("p",{className:"perks"},l.a.createElement("strong",null,"Perks:")," Nice surprises")))}}]),a}(n.Component)),I=(a(106),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={users:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat(d,"/users/leaderboard")).then((function(t){e.setState({users:t.data})}))}},{key:"render",value:function(){return this.state.users?l.a.createElement("div",{id:"leaderboard"},l.a.createElement("h3",{className:"HallTitle"},"Hall of Heroes"),l.a.createElement("ol",{className:"list"},this.state.users.map((function(e){var t=e.username,a=e.points,n=e._id;return l.a.createElement(b.b,{className:"listItems",to:"/user/".concat(n)},l.a.createElement("li",null,t," ",a," points"))})))):l.a.createElement("p",null,"Loading...")}}]),a}(n.Component));a(107);var U=function(){return l.a.createElement("div",{id:"about"},l.a.createElement("h5",null,"About us"),l.a.createElement("div",{className:"white-bg"},l.a.createElement("div",{className:"subtitle"},"Hello world!"),l.a.createElement("p",{className:"about-text"},"We are ",l.a.createElement("a",{href:"https://www.linkedin.com/in/elise-dujardin/",target:"_blank",rel:"noopener noreferrer"},"Elise Dujardin")," & ",l.a.createElement("a",{href:"https://www.linkedin.com/in/joel-roca-martinez-80b63629/",target:"_blank",rel:"noopener noreferrer"},"Joel Roca Martinez")," - Web Developers & IronHackers - and we are super excited to have you here!"),l.a.createElement("p",{className:"about-text"},l.a.createElement("strong",null,"Welcome to EcoHero"),", a platform that we have created in order to revert the destruction that humanity is creating in our planet. In here you will find a community of people that work with passionand perseverance in"," ",l.a.createElement("strong",null,"making Planet Earth a better place to live in")," , today, and tomorrow."),l.a.createElement("p",{className:"about-text"},"Join us in this frenetic quest and"," ",l.a.createElement("strong",null,"start today creating and sharing your impact!"))))},S=a(54),O=(a(108),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={achievements:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat(d,"/achievements/allcompleted")).then((function(t){e.setState({achievements:t.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return this.state.achievements?l.a.createElement("div",null,l.a.createElement(S.a,{id:"myCarousel"},this.state.achievements.map((function(e,t){return l.a.createElement(S.a.Item,{key:"publicSuccess"+t},l.a.createElement(b.b,{to:"/achievement/".concat(e._id)},l.a.createElement("img",{className:"d-block w-100",src:"/images/carouselbg.png",alt:"background"}),l.a.createElement(S.a.Caption,null,l.a.createElement("div",{className:"carousel-image"},l.a.createElement("table",{className:"img-container"},l.a.createElement("tr",null,e.image?l.a.createElement("td",null,l.a.createElement("img",{className:"d-block",src:e.image,alt:e.challenge.title})):""))),l.a.createElement("div",{className:"carousel-text"},l.a.createElement("h5",null,e.challenge.title),l.a.createElement("div",{className:"user-infos"},l.a.createElement("img",{src:e.user.image,alt:e.user.username}),l.a.createElement("div",null,l.a.createElement("p",{className:"username"},e.user.username),l.a.createElement("p",{className:"points-info"},e.user.rank," - ",e.user.points," pts")))))))})))):l.a.createElement("p",null,"Loading...")}}]),a}(n.Component)),D=(a(109),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{id:"home"},l.a.createElement("div",{id:"hometitle"},l.a.createElement("h4",null,"Welcome to"),l.a.createElement("h3",null,"EcoHero")),l.a.createElement("div",null,l.a.createElement("p",{className:"punchline"},"Join the community, set your eco-friendly goals, share your success and ",l.a.createElement("strong",null,"become a Super EcoHero"),"!"),l.a.createElement(b.b,{to:"/signup"},l.a.createElement("button",{className:"bouncy"},l.a.createElement("img",{src:"/images/plant02.png",alt:"o"})," Get Started ! ",l.a.createElement("img",{src:"/images/plant.png",alt:"o"})))),l.a.createElement("div",{className:"carousel-container"},l.a.createElement("div",{className:"carousel-title"},l.a.createElement("h4",null,"Get Inspired"),l.a.createElement("h5",null,"... Our EcoHeroes success")),l.a.createElement(O,null)),l.a.createElement(U,null))}}]),a}(n.Component)),j=a(49);a(110);var A=function(e){var t="Chill Hero",a=1e4,n="Smart Hero",r=25e3,s="Big Hero",c=5e4,o="Super Hero",i=1e5;if(e.loggedInUser.points>=1e4&&e.loggedInUser.points<25e3){var m=Math.ceil((e.loggedInUser.points-a)/(r-a)*100);return l.a.createElement("div",null,l.a.createElement("div",{className:"ranksContainer"},l.a.createElement("p",{className:"ranks"},t),l.a.createElement(j.a,{className:"progress",striped:!0,variant:"success",now:m}),l.a.createElement("p",{className:"ranks"},n)),l.a.createElement("p",{className:"points"},e.loggedInUser.points,"/",r," points"))}if(e.loggedInUser.points>=25e3&&e.loggedInUser.points<5e4){var u=Math.ceil((e.loggedInUser.points-r)/(c-r)*100);return l.a.createElement("div",null,l.a.createElement("div",{className:"ranksContainer"},l.a.createElement("p",{className:"ranks"},n),l.a.createElement(j.a,{className:"progress",striped:!0,variant:"success",now:u}),l.a.createElement("p",{className:"ranks"},s)),l.a.createElement("p",{className:"points"},e.loggedInUser.points,"/",c," points"))}if(e.loggedInUser.points>=5e4&&e.loggedInUser.points<1e5){var d=Math.ceil((e.loggedInUser.points-c)/(i-c)*100);return l.a.createElement("div",null,l.a.createElement("div",{className:"ranksContainer"},l.a.createElement("p",{className:"ranks"},s),l.a.createElement(j.a,{className:"progress",striped:!0,variant:"success",now:d}),l.a.createElement("p",{className:"ranks"},o)),l.a.createElement("p",{className:"points"},e.loggedInUser.points,"/",i," points"))}if(e.loggedInUser.points>=1e5)return l.a.createElement("div",null,l.a.createElement("p",{className:"ranks"},o),l.a.createElement("p",{className:"points"},e.loggedInUser.points," points"));var h=Math.ceil(e.loggedInUser.points/a*100);return l.a.createElement("div",null,l.a.createElement("div",{className:"ranksContainer"},l.a.createElement("p",{className:"ranks"},"New Hero"),l.a.createElement(j.a,{className:"progress",striped:!0,variant:"success",now:h}),l.a.createElement("p",{className:"ranks"},t)),l.a.createElement("p",{className:"points"},e.loggedInUser.points,"/",a," points"))},H=(a(111),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={userAchievements:[],showDeletePopup:!1},e.handleClick=function(){e.setState({showDeletePopup:!0})},e.handleClose=function(){e.setState({showDeletePopup:!1})},e.handleDeleteUser=function(){p.a.delete("".concat(d,"/users/").concat(e.props.loggedInUser._id),{withCredentials:!0}).then((function(t){e.props.onDelete()}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.loggedInUser&&p.a.get("".concat(d,"/achievements/user/").concat(this.props.loggedInUser._id),{withCredentials:!0}).then((function(t){e.setState({userAchievements:t.data})}))}},{key:"render",value:function(){return this.state.userAchievements&&this.props.loggedInUser?l.a.createElement("div",{id:"myProfile"},l.a.createElement("h3",{className:"title"},"Your Profile"),l.a.createElement("div",{className:"white-card"},l.a.createElement("div",{className:"profilePic"},l.a.createElement("img",{src:this.props.loggedInUser.image,alt:"Avatar"})),l.a.createElement("div",{className:"infoContainer"},l.a.createElement("div",{className:"users-info"},l.a.createElement("p",null,l.a.createElement("strong",null,"Name:")," ",this.props.loggedInUser.username)),l.a.createElement("div",{className:"points-info"},l.a.createElement("p",{className:"total-rank"},l.a.createElement("strong",null,"Rank:")," ",this.props.loggedInUser.rank," - ",this.props.loggedInUser.points," points"))),l.a.createElement(A,{loggedInUser:this.props.loggedInUser}),l.a.createElement("div",{className:"edit-btn"},l.a.createElement(b.b,{to:"/profile/edit"},l.a.createElement("img",{src:"/images/edit.png",alt:"Valid"}),"Edit"),l.a.createElement("button",{className:"deleteUser",onClick:this.handleClick},l.a.createElement("img",{src:"/images/delete.png",alt:"Delete"}),"Delete"))),l.a.createElement(g.a,{show:this.state.showDeletePopup,onHide:this.handleClose},l.a.createElement(g.a.Header,{closeButton:!0},l.a.createElement(g.a.Title,null,"Are you sure?")),l.a.createElement(g.a.Body,null,"Are you sure you want to delete this account ?"),l.a.createElement(g.a.Footer,null,l.a.createElement(E.a,{variant:"danger",onClick:this.handleClose},"No, not yet."),l.a.createElement(E.a,{variant:"success",onClick:this.handleDeleteUser},"Yes, I'm sure!")))):l.a.createElement("p",null,"Loading... If you're not login yet, please"," ",l.a.createElement(b.b,{to:"/login"},"click on this link"))}}]),a}(n.Component)),P=(a(112),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={userAchievements:[],showDeletePopup:!1,targetedAchievID:null},e.getUserAchievements=function(){p.a.get("".concat(d,"/achievements/user/").concat(e.props.loggedInUser._id),{withCredentials:!0}).then((function(t){var a=t.data.filter((function(e){return!1===e.completed}));e.setState({userAchievements:a})}))},e.handleClick=function(t){e.setState({showDeletePopup:!0,targetedAchievID:t})},e.handleClose=function(){e.setState({showDeletePopup:!1})},e.handleDelete=function(t){p.a.delete("".concat(d,"/achievements/").concat(t),{withCredentials:!0}).then((function(t){var a=JSON.parse(JSON.stringify(e.state.userAchievements));a.forEach((function(e,n){e._id===t.data._id&&a.splice(n,1)})),console.log(a),e.setState({userAchievements:a,showDeletePopup:!1})}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.loggedInUser&&this.getUserAchievements()}},{key:"componentDidUpdate",value:function(e){e.loggedInUser||this.getUserAchievements()}},{key:"render",value:function(){var e=this;return this.state.userAchievements&&this.props.loggedInUser?l.a.createElement("div",{id:"heroHome"},l.a.createElement("h3",{className:"title"},"Hero Home"),l.a.createElement("div",{className:"white-card"},l.a.createElement("div",{className:"header"},l.a.createElement("img",{src:this.props.loggedInUser.image,alt:"Avatar"}),l.a.createElement("div",null,l.a.createElement("div",{className:"users-info"},l.a.createElement("h5",{className:"userName"},this.props.loggedInUser.username)),l.a.createElement("div",{className:"points-info"},l.a.createElement("p",{className:"total-rank"},this.props.loggedInUser.rank),l.a.createElement("p",{className:"total-points"},"- ",this.props.loggedInUser.points," points")))),l.a.createElement(A,{loggedInUser:this.props.loggedInUser}),l.a.createElement("div",{className:"your-tasks"},l.a.createElement("h4",null,l.a.createElement("img",{src:"/images/plant02.png",alt:"o"}),"Your EcoHero Tasks"),l.a.createElement("div",null,0===this.state.userAchievements.length?l.a.createElement("div",null,"You don't have any goal set yet... "):"",this.state.userAchievements.slice(0,2).map((function(t,a){var n=new Date(t.starting_date),r=n.getDate()+"/"+(n.getMonth()+1);return l.a.createElement("div",{className:"one-task",key:"goals"+a},l.a.createElement("div",{className:"date-title"},l.a.createElement(b.b,{to:"/achievement/".concat(t._id)},l.a.createElement("p",null,r),l.a.createElement("h6",null,t.challenge.title))),l.a.createElement("div",{className:"edit-btn"},l.a.createElement(b.b,{to:"/goals-edit/".concat(t._id)},l.a.createElement("img",{src:"/images/valid.png",alt:"Valid"})),l.a.createElement("button",{onClick:function(){return e.handleClick(t._id)}},l.a.createElement("img",{src:"/images/delete.png",alt:"Delete"}))))})),l.a.createElement("div",{className:"btn-container"},this.state.userAchievements.filter((function(e){return!1===e.completed})).length>2?l.a.createElement("div",{className:"see-all"}," ",l.a.createElement(b.b,{to:"/goals-success"}," See all my goals")," "):"",l.a.createElement(b.b,{className:"btn-add",to:"/challenges"},"Add one more !"))))),l.a.createElement("div",{className:"carousel-container"},l.a.createElement("h4",{className:"carousel-title"},"Get Inspired"),l.a.createElement(O,null)),l.a.createElement(g.a,{show:this.state.showDeletePopup,onHide:this.handleClose},l.a.createElement(g.a.Header,{closeButton:!0},l.a.createElement(g.a.Title,null,"Are you sure?")),l.a.createElement(g.a.Body,null,"Are you sure you want to delete this goal from your list ?"),l.a.createElement(g.a.Footer,null,l.a.createElement(E.a,{variant:"danger",onClick:this.handleClose},"No, not yet."),l.a.createElement(E.a,{variant:"success",onClick:function(){return e.handleDelete(e.state.targetedAchievID)}},"Yes, I'm sure!")))):l.a.createElement("p",null,"Loading... If you're not login yet, please"," ",l.a.createElement(b.b,{to:"/login"},"click on this link"))}}]),a}(n.Component));a(113);var L=function(){return l.a.createElement("div",null,l.a.createElement(f.a,{id:"dashboard",activeKey:"/home"},l.a.createElement(f.a.Item,null,l.a.createElement(b.b,{to:"/hero-home"}," ",l.a.createElement("img",{src:"/images/home.png",alt:"hero-home"})," Hero Home ")),l.a.createElement(f.a.Item,null,l.a.createElement(b.b,{to:"/goals-success"}," ",l.a.createElement("img",{src:"/images/goal.png",alt:"goals & success"}),"  Goals & Success ")),l.a.createElement(f.a.Item,null,l.a.createElement(b.b,{to:"/groups"}," ",l.a.createElement("img",{src:"/images/collaboration.png",alt:"group"})," Groups ")),l.a.createElement(f.a.Item,null,l.a.createElement(b.b,{to:"/profile"}," ",l.a.createElement("img",{src:"/images/user.png",alt:"profile"})," Profile "))))},T=(a(114),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleUsernameChange=function(e){var t=JSON.parse(JSON.stringify(n.state.user));t.username=e.currentTarget.value,n.setState({user:t})},n.handleEmailChange=function(e){var t=JSON.parse(JSON.stringify(n.state.user));t.email=e.currentTarget.value,n.setState({user:t})},n.handlePasswordChange=function(e){var t=JSON.parse(JSON.stringify(n.state.user));t.password=e.currentTarget.value,n.setState({user:t})},n.handleImageChange=function(e){var t=new FormData;t.append("imageUrl",e.currentTarget.files[0]),p.a.post("".concat(d,"/upload"),t,{withCredentials:!0}).then((function(e){var t=JSON.parse(JSON.stringify(n.state.user));t.image=e.data.image,n.setState({user:t})}))},n.state={loggedInUser:null,user:null},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat(d,"/auth/user"),{withCredentials:!0}).then((function(t){p.a.get("".concat(d,"/users/").concat(t.data._id),{withCredentials:!0}).then((function(a){e.setState({loggedInUser:t.data,user:a.data})}))}))}},{key:"render",value:function(){var e=this;if(!this.state.user)return l.a.createElement("p",null,"Loading... If you're not login yet, please"," ",l.a.createElement(b.b,{to:"/login"},"click on this link"));var t=this.state.user,a=t.username,n=t.image,r=t.password,s=t.email;return l.a.createElement("div",{id:"editProfile"},l.a.createElement("h3",{className:"title"},"Edit your profile"),l.a.createElement("div",{className:"white-card"},l.a.createElement("div",{className:"image-edit"},l.a.createElement("img",{src:n,alt:"Avatar"}),l.a.createElement("div",{className:"input-container"},l.a.createElement("label",{htmlFor:"image"},"Modify your profile picture:"),l.a.createElement("input",{type:"file",id:"image",name:"image",accept:"image/png, image/jpeg",onChange:this.handleImageChange}))),l.a.createElement("div",{className:"input-container"},l.a.createElement("label",null,"Update your username"),l.a.createElement("input",{onChange:this.handleUsernameChange,name:"username",type:"text",placeholder:"Enter username",value:a})),l.a.createElement("div",{className:"input-container"},l.a.createElement("label",null,"Change your email"),l.a.createElement("input",{onChange:this.handleEmailChange,name:"email",type:"email",value:s,placeholder:"Enter email"})),l.a.createElement("div",{className:"input-container"},l.a.createElement("label",null,"Set a new password"),l.a.createElement("input",{onChange:this.handlePasswordChange,name:"password",type:"password",value:r,placeholder:"Enter password"})),l.a.createElement("button",{className:"submit-btn",onClick:function(){return e.props.onEdit(e.state.user)},type:"submit"},l.a.createElement("img",{className:"editLeafL",src:"/images/plant02.png",alt:"o"})," Edit",l.a.createElement("img",{className:"editLeafR",src:"/images/plant.png",alt:"o"}))))}}]),a}(n.Component)),_=a(23),G=a(33),B=(a(115),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={challenges:[],filteredChallenges:[],showPopUp:!1},e.handleSearch=function(t){var a=t.currentTarget.value.toLowerCase(),n=e.state.challenges.filter((function(e){return e.title.toLowerCase().includes(a)||e.description.toLowerCase().includes(a)}));e.setState({filteredChallenges:n})},e.handleCreateClick=function(){!e.props.loggedInUser||e.props.loggedInUser.points<25e3?e.setState({showPopUp:!0}):e.props.history.push("/challenges/create")},e.handleClose=function(){e.setState({showPopUp:!1})},e.handleSort=function(t){t.preventDefault();var a=JSON.parse(JSON.stringify(e.state.filteredChallenges));"low"===t.currentTarget.value?a.sort((function(e,t){return e.points-t.points})):a.sort((function(e,t){return t.points-e.points})),e.setState({filteredChallenges:a})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat(d,"/challenges")).then((function(t){e.setState({challenges:t.data,filteredChallenges:t.data})}))}},{key:"render",value:function(){return this.state.challenges?l.a.createElement("div",{id:"challenges"},l.a.createElement("h3",{className:"challengesTitle"},"Challenges"),l.a.createElement("div",{className:"search-part"},l.a.createElement(_.a,{className:"mb-3"},l.a.createElement(_.a.Prepend,null,l.a.createElement(_.a.Text,{id:"basic-addon1"},"\ud83d\udd0e")),l.a.createElement(G.a,{onChange:this.handleSearch,placeholder:"Search for a challenge","aria-label":"Search for a challenge","aria-describedby":"basic-addon1"})),l.a.createElement(y.a.Control,{onChange:this.handleSort,as:"select",defaultValue:"Sort by..."},l.a.createElement("option",null,"Sort by..."),l.a.createElement("option",{value:"high"},"Points - high to low "),l.a.createElement("option",{value:"low"},"Points - low to high")),this.props.loggedInUser?l.a.createElement(E.a,{className:"bouncy",onClick:this.handleCreateClick},l.a.createElement("img",{className:"plantL",src:"/images/plant02.png",alt:"o"}),"Create a Challenge"):""),this.state.filteredChallenges.map((function(e,t){return l.a.createElement("div",{className:"one-success-container",key:"challenge"+t},l.a.createElement("div",{className:"one-success"},l.a.createElement(b.b,{className:"link",to:"/challenge/".concat(e._id)},l.a.createElement("p",null,e.title," -"," ",l.a.createElement("strong",null,e.points," points")))))})),l.a.createElement(g.a,{show:this.state.showPopUp,onHide:this.handleClose},l.a.createElement(g.a.Header,{closeButton:!0},l.a.createElement(g.a.Title,null,"Not yet!")),l.a.createElement(g.a.Body,null,"Achieve Smart Hero rank in order to do that \ud83d\ude09"," "),l.a.createElement(g.a.Footer,null,l.a.createElement(E.a,{variant:"success",onClick:this.handleClose},"Ok, got it")))):l.a.createElement("div",null,"Loading...")}}]),a}(n.Component)),M=a(130),x=a(132),J=a(134),F=a(131),Y=a(133),W=a(135);a(116);function V(e){return l.a.createElement("div",{id:"socialMedia"},l.a.createElement("div",{className:"sharing-logo"},l.a.createElement(M.a,{className:"sharing-logo",url:"https://eco-hero.herokuapp.com/achievements/".concat(e.achievementID),quote:"Hey! I have achieved this challenge at Eco-Hero! Check it out!"},l.a.createElement(F.a,{size:32}))),l.a.createElement("div",{className:"sharing-logo"},l.a.createElement(x.a,{className:"sharing-logo",url:"https://eco-hero.herokuapp.com/achievements/".concat(e.achievementID),quote:"Hey! I have achieved this challenge at Eco-Hero! Check it out!"},l.a.createElement(Y.a,{size:32}))),l.a.createElement("div",{className:"sharing-logo"},l.a.createElement(J.a,{className:"sharing-logo",url:"https://eco-hero.herokuapp.com/achievements/".concat(e.achievementID),quote:"Hey! I have achieved this challenge at Eco-Hero! Check it out!"},l.a.createElement(W.a,{size:32}))))}a(117);var R=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={userAchievements:[],showDeletePopup:!1,targetedAchievID:null,filteredAchievements:[]},e.handleClick=function(t){e.setState({showDeletePopup:!0,targetedAchievID:t})},e.handleClose=function(){e.setState({showDeletePopup:!1})},e.handleDelete=function(t){p.a.delete("".concat(d,"/achievements/").concat(t),{withCredentials:!0}).then((function(t){var a=JSON.parse(JSON.stringify(e.state.userAchievements));a.forEach((function(e,n){e._id===t.data._id&&a.splice(n,1)})),e.setState({userAchievements:a,showDeletePopup:!1})}))},e.handleSearchAch=function(t){var a=t.currentTarget.value.toLowerCase(),n=e.state.userAchievements.filter((function(e){return!0===e.completed&&(e.challenge.title.toLowerCase().includes(a)||e.challenge.description.toLowerCase().includes(a))}));e.setState({filteredAchievements:n})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.loggedInUser&&p.a.get("".concat(d,"/achievements/user/").concat(this.props.loggedInUser._id),{withCredentials:!0}).then((function(t){e.setState({userAchievements:t.data,filteredAchievements:t.data})}))}},{key:"componentDidUpdate",value:function(e){var t=this;e.loggedInUser||p.a.get("".concat(d,"/achievements/user/").concat(this.props.loggedInUser._id),{withCredentials:!0}).then((function(e){t.setState({userAchievements:e.data})}))}},{key:"render",value:function(){var e=this;return this.state.userAchievements&&this.props.loggedInUser?l.a.createElement("div",{id:"goalsSuccess"},l.a.createElement("div",{className:"exp-bar"},l.a.createElement(A,{loggedInUser:this.props.loggedInUser})),l.a.createElement("h3",{className:"title"},"Your Goals & Success"),l.a.createElement("div",{className:"white-card"},l.a.createElement("div",{className:"goals"},l.a.createElement("h4",{className:"subtitle"},l.a.createElement("img",{src:"/images/plant02.png",alt:"o"}),"Your EcoHero Tasks"),0===this.state.userAchievements.filter((function(e){return!1===e.completed})).length?l.a.createElement("div",null,"You don't have any goal set yet... "):"",this.state.userAchievements.map((function(t,a){if(!t.completed)return l.a.createElement("div",{className:"achiev-container",key:"goals"+a},l.a.createElement(b.b,{to:"/achievement/".concat(t._id)},l.a.createElement("h6",null,t.challenge.title)),l.a.createElement("div",{className:"edit-btn"},l.a.createElement(b.b,{to:"/goals-edit/".concat(t._id)},l.a.createElement("img",{src:"/images/valid.png",alt:"Valid"})),l.a.createElement("button",{onClick:function(){return e.handleClick(t._id)}},l.a.createElement("img",{src:"/images/delete.png",alt:"Delete"}))))})),l.a.createElement("div",{className:"btn-container"},l.a.createElement(b.b,{className:"btn-add",to:"/challenges"},"Add one more !"))),l.a.createElement("div",null,l.a.createElement("h4",{className:"subtitle"},l.a.createElement("img",{src:"/images/plant02.png",alt:"o"}),"You already nailed it!"),l.a.createElement(_.a,{className:"mb-3 searchBar"},l.a.createElement(_.a.Prepend,null,l.a.createElement(_.a.Text,{id:"basic-addon1"},"\ud83d\udd0e")),l.a.createElement(G.a,{onChange:this.handleSearchAch,placeholder:"Search for a success","aria-label":"Search for a success","aria-describedby":"basic-addon1"})),0===this.state.filteredAchievements.filter((function(e){return!0===e.completed})).length?l.a.createElement("div",null,"No Success yet... "):"",this.state.filteredAchievements.map((function(e,t){if(e.completed)return l.a.createElement("div",{className:"achiev-container",key:"success"+t},l.a.createElement(b.b,{to:"/achievement/".concat(e._id)},l.a.createElement("h6",null,e.challenge.title)),l.a.createElement(V,{achievementID:e._id}))})))),l.a.createElement(g.a,{show:this.state.showDeletePopup,onHide:this.handleClose},l.a.createElement(g.a.Header,{closeButton:!0},l.a.createElement(g.a.Title,null,"Are you sure?")),l.a.createElement(g.a.Body,null,"Are you sure you want to delete this goal from your list ?"),l.a.createElement(g.a.Footer,null,l.a.createElement(E.a,{variant:"danger",onClick:this.handleClose},"No, not yet."),l.a.createElement(E.a,{variant:"success",onClick:function(){return e.handleDelete(e.state.targetedAchievID)}},"Yes, I'm sure!")))):l.a.createElement("p",null,"Loading... If you're not login yet, please"," ",l.a.createElement(b.b,{to:"/login"},"click on this link"))}}]),a}(n.Component);a(118);var z=function(e){return!e.loggedInUser||e.loggedInUser.points<25e3?l.a.createElement(u.a,{to:"/challenges"}):l.a.createElement("div",{id:"createChallenge"},l.a.createElement("h1",{className:"createTitle"},"Create a Challenge"),l.a.createElement("div",{className:"white-card"},l.a.createElement(y.a,{onSubmit:e.onSubmit},l.a.createElement(y.a.Group,{className:"input-container"},l.a.createElement(y.a.Label,{className:"titles"},"Title"),l.a.createElement(y.a.Control,{className:"inputs",name:"title",type:"text",placeholder:"Title of the challenge"})),l.a.createElement(y.a.Group,{className:"input-container"},l.a.createElement(y.a.Label,{className:"titles"},"Description"),l.a.createElement(y.a.Control,{className:"inputs",name:"description",placeholder:"Describe your challenge",as:"textarea",rows:"3"})),l.a.createElement(y.a.Group,{className:"input-container"},l.a.createElement(y.a.Label,{className:"titles"},"Why is it useful?"),l.a.createElement(y.a.Control,{className:"inputs",name:"fact",placeholder:"Why is your challenge important for the planet?",as:"textarea",rows:"3"})),l.a.createElement(y.a.Group,{className:"input-container"},l.a.createElement(y.a.Label,{className:"titles"},"Points"),l.a.createElement(y.a.Control,{className:"inputs",name:"points",type:"number",max:"10000",placeholder:"Number of points. Max 10 000"})),l.a.createElement(y.a.Text,null,l.a.createElement("p",{className:"rules"},"* As we want to encourage users to achieve short to mid term goals, ",l.a.createElement("strong",null,"we are capping the points at 10 000"),".")),l.a.createElement(E.a,{className:"createBtn",variant:"primary",type:"submit"},l.a.createElement("img",{className:"imageBtn1",src:"/images/plant02.png",alt:"o"}),"Create Challenge",l.a.createElement("img",{className:"imageBtn2",src:"/images/plant.png",alt:"o"})))))},q=(a(119),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={loggedInUser:null,userGoalsIds:[],showPopUp:!1},e.handleClick=function(){e.state.userGoalsIds.includes(e.props.challenge)?e.setState({showPopUp:!0}):p.a.post("".concat(d,"/achievements/create/").concat(e.props.challenge,"/").concat(e.state.loggedInUser._id),{},{withCredentials:!0}).then((function(t){e.props.onSuccess()}))},e.handleClose=function(t){e.setState({showPopUp:!1})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.state.loggedInUser||p.a.get("".concat(d,"/auth/user"),{withCredentials:!0}).then((function(t){p.a.get("".concat(d,"/users/").concat(t.data._id),{withCredentials:!0}).then((function(t){p.a.get("".concat(d,"/achievements/user/").concat(t.data._id),{withCredentials:!0}).then((function(a){var n=a.data.filter((function(e){return!1===e.completed})).map((function(e){return e.challenge._id}));e.setState({loggedInUser:t.data,userGoalsIds:n})}))}))}))}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,{className:"addThisGoalBtn",onClick:this.handleClick},l.a.createElement("img",{src:"/images/valid.png",alt:"Valid"}),this.props.fromOther?l.a.createElement(l.a.Fragment,null,"I want to do it too!"):l.a.createElement(l.a.Fragment,null,"Add this Goal!")),l.a.createElement(g.a,{show:this.state.showPopUp,onHide:function(){return e.handleClose("modal")}},l.a.createElement(g.a.Header,{closeButton:!0},l.a.createElement(g.a.Title,null,"Not yet!")),l.a.createElement(g.a.Body,null,"You already have this challenge in your on going Goals. Finish it before to do it again. \ud83d\ude09"," "),l.a.createElement(g.a.Footer,null,l.a.createElement(E.a,{variant:"success",onClick:function(){return e.handleClose("modal")}},"Ok, got it"))))}}]),a}(n.Component)),K=Object(u.g)(q),$=(a(120),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={achievement:null,showDeletePopup:!1},e.handleClick=function(){e.setState({showDeletePopup:!0})},e.handleClose=function(){e.setState({showDeletePopup:!1})},e.handleDelete=function(){p.a.delete("".concat(d,"/achievements/").concat(e.state.achievement._id),{withCredentials:!0}).then((function(t){e.props.history.push("/goals-success")}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.achievementID;p.a.get("".concat(d,"/achievements/").concat(t),{withCredentials:!0}).then((function(t){e.setState({achievement:t.data})}))}},{key:"render",value:function(){if(!this.state.achievement)return l.a.createElement("p",null,"Loading...");var e=this.state.achievement,t=e.challenge,a=e.completed,n=e.user,r=e.image,s=e.finishing_date,c=e.starting_date,o=e._id,i=new Date(c).toLocaleDateString(),m=new Date(s).toLocaleDateString();return l.a.createElement("div",{id:"achievDetails"},l.a.createElement("div",{className:"white-card"},this.props.loggedInUser&&this.props.loggedInUser._id===n._id?"":l.a.createElement(b.b,{to:"/user/".concat(n._id),className:"back-link"},n.username,"'s profile"),l.a.createElement("div",{className:"header"},l.a.createElement("h4",null,t.title),l.a.createElement("p",null,t.points," points")),this.props.loggedInUser?a&&this.props.loggedInUser._id===n._id?l.a.createElement("div",{className:"sharing-logos"},l.a.createElement(V,{achievementID:o})):a?l.a.createElement("div",{className:"sharing-logos"},l.a.createElement(K,{challenge:t._id,fromOther:!0})):"":"",a?this.props.loggedInUser&&this.props.loggedInUser._id===n._id?l.a.createElement("h5",{className:"subtitle"},l.a.createElement("img",{src:"/images/plant02.png",alt:"o"})," The task you fulfilled :"," "):l.a.createElement("h5",{className:"subtitle"},l.a.createElement("img",{src:"/images/plant02.png",alt:"o"})," The task ",n.username," fulfilled :"," "):l.a.createElement("h5",{className:"subtitle"}," ",l.a.createElement("img",{src:"/images/plant02.png",alt:"o"})," How to complete this goal?"),l.a.createElement("p",null,t.description),l.a.createElement("h5",{className:"subtitle"},l.a.createElement("img",{src:"/images/plant02.png",alt:"o"})," Why is it helpful?"),l.a.createElement("p",null,t.fact),l.a.createElement("p",{className:"date"},l.a.createElement("strong",null,"Started :")," ",i),a?l.a.createElement(l.a.Fragment,null,l.a.createElement("p",{className:"date"},l.a.createElement("strong",null,"Finished :")," ",m),l.a.createElement("img",{className:"d-block achiev-image",src:r,alt:"Uplaoded"})):l.a.createElement("div",{className:"edit-btn"},l.a.createElement(b.b,{to:"/goals-edit/".concat(o)},l.a.createElement("img",{src:"/images/valid.png",alt:"Valid"})," Complete it"),l.a.createElement("button",{onClick:this.handleClick},l.a.createElement("img",{src:"/images/delete.png",alt:"Delete"})," Delete it !"))),l.a.createElement(g.a,{show:this.state.showDeletePopup,onHide:this.handleClose},l.a.createElement(g.a.Header,{closeButton:!0},l.a.createElement(g.a.Title,null,"Are you sure?")),l.a.createElement(g.a.Body,null,"Are you sure you want to delete this goal from your list ?"),l.a.createElement(g.a.Footer,null,l.a.createElement(E.a,{variant:"danger",onClick:this.handleClose},"No, not yet."),l.a.createElement(E.a,{variant:"success",onClick:this.handleDelete},"Yes, I'm sure!"))))}}]),a}(n.Component)),Q=(a(121),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={challenge:null},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.challengeID;p.a.get("".concat(d,"/challenges/").concat(t),{withCredentials:!0}).then((function(t){e.setState({challenge:t.data})}))}},{key:"render",value:function(){return this.state.challenge?l.a.createElement("div",{id:"challengeDetails"},l.a.createElement("div",{className:"white-card"},l.a.createElement("a",{href:"/challenges"},l.a.createElement("img",{src:"/images/back.png",alt:"Back",className:"back-btn"})),l.a.createElement("div",{className:"header"},l.a.createElement("h4",{className:"challengeDetailTitle"},this.state.challenge.title),l.a.createElement("p",null,this.state.challenge.points," points")),l.a.createElement("h5",{className:"subtitle"},l.a.createElement("img",{src:"/images/plant02.png",alt:"o"}),"How to complete this goal?"),l.a.createElement("p",null,this.state.challenge.description),l.a.createElement("h5",{className:"subtitle"},l.a.createElement("img",{src:"/images/plant02.png",alt:"o"}),"Why is it helpful?"),l.a.createElement("p",null,this.state.challenge.fact),this.props.loggedInUser?l.a.createElement("div",{className:"addGoalBtn"},l.a.createElement(K,{challenge:this.state.challenge._id,onSuccess:this.props.onSuccess})):"")):l.a.createElement("p",null,"Loading...")}}]),a}(n.Component)),X=(a(122),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={user:null,userAchievements:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.userID;p.a.get("".concat(d,"/users/").concat(t),{withCredentials:!0}).then((function(t){console.log(t.data),p.a.get("".concat(d,"/achievements/user/").concat(t.data._id),{withCredentials:!0}).then((function(a){e.setState({user:t.data,userAchievements:a.data})}))}))}},{key:"render",value:function(){return this.state.userAchievements&&this.state.user?l.a.createElement("div",{id:"otherProfile"},l.a.createElement("div",{className:"white-card"},l.a.createElement("div",{className:"header"},l.a.createElement("img",{src:this.state.user.image,alt:"Avatar",style:{width:"100px"}}),l.a.createElement("div",null,l.a.createElement("div",{className:"users-info"},l.a.createElement("h5",null,this.state.user.username)),l.a.createElement("div",{className:"points-info"},l.a.createElement("p",{className:"total-rank"},this.state.user.rank),l.a.createElement("p",{className:"total-points"},"- ",this.state.user.points," points")))),l.a.createElement(A,{loggedInUser:this.state.user}),l.a.createElement("div",{className:"user-success"},l.a.createElement("h4",null,l.a.createElement("img",{src:"/images/plant02.png",alt:"o"}),"Success"),this.state.userAchievements.map((function(e,t){if(e.completed){var a=new Date(e.finishing_date),n=a.getDate()+"/"+(a.getMonth()+1);return l.a.createElement("div",{className:"one-success",key:"success"+t},l.a.createElement(b.b,{to:"/achievement/".concat(e._id)},l.a.createElement("p",null,n),l.a.createElement("h6",null,e.challenge.title)))}}))))):l.a.createElement("p",null,"Loading...")}}]),a}(n.Component)),Z=(a(123),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={achievement:null,showPopUp:!1},e.handleImageChange=function(t){var a=new FormData;a.append("imageUrl",t.currentTarget.files[0]),p.a.post("".concat(d,"/upload"),a,{withCredentials:!0}).then((function(t){var a=JSON.parse(JSON.stringify(e.state.achievement));a.image=t.data.image,e.setState({achievement:a})}))},e.handleDateChange=function(t){var a=JSON.parse(JSON.stringify(e.state.achievement));a.finishing_date=t.currentTarget.value,e.setState({achievement:a})},e.handleClick=function(){e.setState({showPopUp:!0})},e.handleClose=function(){e.setState({showPopUp:!1})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.achievementID;console.log(t),p.a.patch("".concat(d,"/achievements/").concat(t),{withCredentials:!0}).then((function(t){console.log(t.data),e.setState({achievement:t.data})}))}},{key:"render",value:function(){var e=this;if(!this.state.achievement)return l.a.createElement("p",null,"Loading... If you're not login yet, please"," ",l.a.createElement(b.b,{to:"/login"},"click on this link"));var t=this.state.achievement,a=t.image,n=t.challenge;return l.a.createElement("div",{id:"editGoal"},l.a.createElement("h3",{className:"title"},"Complete this Goal"),l.a.createElement("div",{className:"white-card"},l.a.createElement("div",{className:"header"},l.a.createElement("h4",null,n.title),l.a.createElement("p",null,n.points," points")),l.a.createElement("h5",{className:"subtitle"}," ",l.a.createElement("img",{src:"/images/plant02.png",alt:"o"})," How to complete this goal?"),l.a.createElement("p",null,n.description),l.a.createElement("h5",{className:"subtitle"}," ",l.a.createElement("img",{src:"/images/plant02.png",alt:"o"})," Before you valid this goal"),l.a.createElement("label",{htmlFor:"image"},"1. Download a picture :"),a?l.a.createElement("img",{src:a,alt:"Avatar"}):"",l.a.createElement("input",{type:"file",id:"image",name:"image",accept:"image/png, image/jpeg",onChange:this.handleImageChange}),l.a.createElement("label",{htmlFor:"finishing_date"},"2. When did you finish this task ?"),l.a.createElement("input",{name:"finishing_date",type:"date",onChange:this.handleDateChange}),l.a.createElement("div",{className:"edit-btn"},l.a.createElement("button",{onClick:this.handleClick,type:"submit"},l.a.createElement("img",{src:"/images/valid.png",alt:"Valid"})," Completed !"))),l.a.createElement(g.a,{show:this.state.showPopUp,onHide:this.handleClose},l.a.createElement(g.a.Header,{closeButton:!0},l.a.createElement(g.a.Title,null,"Are you sure?")),l.a.createElement(g.a.Body,null,"If you complete this goal, it will directly go to your success and you won't be able to edit it again. Are you sure you are ready to complete this goal?"),l.a.createElement(g.a.Footer,null,l.a.createElement(E.a,{variant:"danger",onClick:this.handleClose},"No, not yet."),l.a.createElement(E.a,{variant:"success",onClick:function(){return e.props.onUpdate(e.state.achievement)}},"Yes, I'm sure!"))))}}]),a}(n.Component)),ee=(a(124),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={groups:[],filteredGroups:[],showPopUp:!1},e.handleSearch=function(t){var a=t.currentTarget.value.toLowerCase(),n=e.state.groups.filter((function(e){return e.name.toLowerCase().includes(a)||e.description.toLowerCase().includes(a)}));e.setState({filteredGroups:n})},e.handleCreateClick=function(){!e.props.loggedInUser||e.props.loggedInUser.points<1e4?e.setState({showPopUp:!0}):e.props.history.push("/groups/create")},e.handleClose=function(){e.setState({showPopUp:!1})},e.handleSort=function(t){t.preventDefault();var a=JSON.parse(JSON.stringify(e.state.filteredGroups));"low"===t.currentTarget.value?a.sort((function(e,t){return e.points-t.points})):a.sort((function(e,t){return t.points-e.points})),e.setState({filteredGroups:a})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat(d,"/groups")).then((function(t){e.setState({groups:t.data,filteredGroups:t.data})}))}},{key:"render",value:function(){return this.state.groups?l.a.createElement("div",{id:"groups"},l.a.createElement("h3",{className:"groupsTitle"},"EcoHero Groups"),l.a.createElement("div",{className:"search-part"},l.a.createElement(_.a,{className:"mb-3"},l.a.createElement(_.a.Prepend,null,l.a.createElement(_.a.Text,{id:"basic-addon1"},"\ud83d\udd0e")),l.a.createElement(G.a,{onChange:this.handleSearch,placeholder:"Search for a group","aria-label":"Search for a group","aria-describedby":"basic-addon1"})),l.a.createElement(y.a.Control,{onChange:this.handleSort,as:"select",defaultValue:"Sort by..."},l.a.createElement("option",null,"Sort by..."),l.a.createElement("option",{value:"high"},"Points - high to low "),l.a.createElement("option",{value:"low"},"Points - low to high")),this.props.loggedInUser?l.a.createElement(E.a,{className:"bouncy",onClick:this.handleCreateClick},l.a.createElement("img",{className:"plantL",src:"/images/plant02.png",alt:"o"}),"Create a Group"):""),l.a.createElement("p",null,"List of groups"),this.state.filteredGroups.map((function(e,t){return l.a.createElement("div",{className:"one-success-container",key:"group"+t},l.a.createElement("div",{className:"one-success"},l.a.createElement(b.b,{className:"link",to:"/groups/".concat(e._id)},l.a.createElement("p",null,e.name," - ",e.location))))})),l.a.createElement(g.a,{show:this.state.showPopUp,onHide:this.handleClose},l.a.createElement(g.a.Header,{closeButton:!0},l.a.createElement(g.a.Title,null,"Not yet!")),l.a.createElement(g.a.Body,null,"Achieve Chill Hero rank in order to do that \ud83d\ude09"," "),l.a.createElement(g.a.Footer,null,l.a.createElement(E.a,{variant:"success",onClick:this.handleClose},"Ok, got it")))):l.a.createElement("div",null,"Loading...")}}]),a}(n.Component)),te=(a(125),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={groupData:null},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.groupID;p.a.get("".concat(d,"/groups/").concat(t),{withCredentials:!0}).then((function(t){e.setState({groupData:t.data})}))}},{key:"render",value:function(){if(!this.state.groupData)return l.a.createElement("p",null,"Loading...");var e=this.state.groupData,t=e.description,a=e.location,n=e.date,r=e.members;return l.a.createElement("div",{id:"groupDetails"},l.a.createElement("div",{className:"white-card"},l.a.createElement("h5",{className:"subtitle"},"Description"),l.a.createElement("p",null,t),l.a.createElement("h5",{className:"subtitle"},"Location"),l.a.createElement("p",null,a),l.a.createElement("h5",{className:"subtitle"},"Date"),l.a.createElement("p",null,n),l.a.createElement("h5",{className:"subtitle"},"Members"),r.map((function(e,t){return l.a.createElement("div",{key:"member"+t}," ",e.username," ")})),l.a.createElement("div",{className:"edit-btn"},l.a.createElement(b.b,{to:"/groups"},l.a.createElement("img",{src:"/images/valid.png",alt:"Valid"})," Join the group"))))}}]),a}(n.Component));a(126);var ae=function(e){return!e.loggedInUser||e.loggedInUser.points<1e4?l.a.createElement(u.a,{to:"/groups"}):l.a.createElement("div",{id:"createGroup"},l.a.createElement("h1",{className:"createTitle"},"Create a Group"),l.a.createElement("div",{className:"white-card"},l.a.createElement(y.a,{onSubmit:e.onSubmit},l.a.createElement(y.a.Group,{className:"input-container"},l.a.createElement(y.a.Label,{className:"titles"},"Name of the group"),l.a.createElement(y.a.Control,{className:"inputs",name:"name",type:"text",placeholder:"Name of the group"})),l.a.createElement(y.a.Group,{className:"input-container"},l.a.createElement(y.a.Label,{className:"titles"},"Description"),l.a.createElement(y.a.Control,{className:"inputs",name:"description",placeholder:"Describe your challenge",as:"textarea",rows:"3"})),l.a.createElement(y.a.Group,{className:"input-container"},l.a.createElement(y.a.Label,{className:"titles"},"Location"),l.a.createElement(y.a.Control,{className:"inputs",name:"location",type:"text",placeholder:"Location of the challenge"})),l.a.createElement(y.a.Group,{className:"input-container"},l.a.createElement(y.a.Label,{className:"titles"},"Date"),l.a.createElement(y.a.Control,{className:"inputs",name:"date",type:"date"})),l.a.createElement(E.a,{className:"createBtn",variant:"primary",type:"submit"},l.a.createElement("img",{className:"imageBtn1",src:"/images/plant02.png",alt:"o"}),"Create a group",l.a.createElement("img",{className:"imageBtn2",src:"/images/plant.png",alt:"o"})))))},ne=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={loggedInUser:null,showGeneralModal:!1,modalMessage:"",modalHeader:"",modalButtonType:"info"},e.handleSignUp=function(t){t.preventDefault();var a=t.currentTarget,n=a.username,l=a.email,r=a.password;p.a.post("".concat(d,"/auth/signup"),{username:n.value,email:l.value,password:r.value},{withCredentials:!0}).then((function(t){console.log(t.data),e.setState({loggedInUser:t.data},(function(){e.props.history.push("/hero-home")}))})).catch((function(t){var a=t.response.data.errorMessage;e.setState({showGeneralModal:!0,modalMessage:a,modalHeader:"Oops!",modalButtonType:"info"})}))},e.handleLogIn=function(t){t.preventDefault();var a=t.currentTarget,n=a.email,l=a.password;p.a.post("".concat(d,"/auth/signin"),{email:n.value,password:l.value},{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data},(function(){e.props.history.push("/hero-home")}))})).catch((function(t){var a=t.response.data.errorMessage;e.setState({showGeneralModal:!0,modalMessage:a,modalHeader:"Oops!",modalButtonType:"info"})}))},e.handleLogOut=function(){p.a.post("".concat(d,"/auth/logout"),{},{withCredentials:!0}).then((function(){e.setState({loggedInUser:null},(function(){e.props.history.push("/")}))}))},e.handleEdit=function(t){var a={username:t.username,email:t.email,image:t.image,password:t.password};p.a.patch("".concat(d,"/users/").concat(e.state.loggedInUser._id,"/edit"),a,{withCredentials:!0}).then((function(n){console.log(t),delete a.password,a._id=n.data._id,a.points=n.data.points,a.rank=n.data.rank,a.passwordHash=n.data.passwordHash,e.setState({loggedInUser:a},(function(){e.props.history.push("/profile")}))})).catch((function(t){console.log(t.response);var a,n=t.response.data.errorMessage;"DuplicateKey"===n.codeName?Object.keys(n.keyPattern).includes("username")?a="This username already exists. Please select a new one.":Object.keys(n.keyPattern).includes("email")&&(a="This email is already in use. Please select a new one."):a=n,e.setState({showGeneralModal:!0,modalMessage:a,modalHeader:"Oops!",modalButtonType:"info"})}))},e.handleCreateChall=function(t){console.log("in the handle fonction"),t.preventDefault();var a=t.currentTarget,n=a.title,l=a.description,r=a.points,s=a.fact;p.a.post("".concat(d,"/challenges/create"),{title:n.value,description:l.value,points:r.value,fact:s.value},{withCredentials:!0}).then((function(t){e.props.history.push("/challenges")}))},e.handleCreateGroup=function(t){t.preventDefault();var a=t.currentTarget,n=a.name,l=a.description,r=a.location,s=a.date;p.a.post("".concat(d,"/groups/create"),{name:n.value,description:l.value,location:r.value,date:s.value,user:e.state.loggedInUser},{withCredentials:!0}).then((function(t){e.props.history.push("/groups")}))},e.handleUpdateGoal=function(t){var a=t.image,n=t._id,l={completed:!0,image:a,finishing_date:t.finishing_date};p.a.patch("".concat(d,"/achievements/").concat(n),l,{withCredentials:!0}).then((function(t){var a=t.data.challenge.points,n=JSON.parse(JSON.stringify(e.state.loggedInUser));n.points+=a;var l=e.handleRank(n.points);n.rank!==l&&(n.rank=l),console.log(n),p.a.patch("".concat(d,"/users/").concat(e.state.loggedInUser._id,"/edit"),n,{withCredentials:!0}).then((function(t){e.setState({loggedInUser:n},e.props.history.push("/hero-home"))}))}))},e.handleRank=function(e){return e>=1e5?"Super Hero":e>5e4?"Big Hero":e>25e3?"Smart Hero":e>1e4?"Chill Hero":"New Hero"},e.handleModalClose=function(){e.setState({showGeneralModal:!1})},e.hanldeNotification=function(){},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.state.loggedInUser||p.a.get("".concat(d,"/auth/user"),{withCredentials:!0}).then((function(t){p.a.get("".concat(d,"/users/").concat(t.data._id),{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data})}))}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{id:"app"},l.a.createElement(N,{onLogOut:this.handleLogOut,loggedInUser:this.state.loggedInUser}),this.state.loggedInUser?l.a.createElement(L,null):"",l.a.createElement(u.d,null,l.a.createElement(u.b,{exact:!0,path:"/",component:D}),l.a.createElement(u.b,{path:"/signup",render:function(t){return l.a.createElement(C,Object.assign({onSignUp:e.handleSignUp},t))}}),l.a.createElement(u.b,{path:"/login",render:function(t){return l.a.createElement(w,Object.assign({onLogIn:e.handleLogIn},t))}}),l.a.createElement(u.b,{path:"/ranks",component:k}),l.a.createElement(u.b,{path:"/leaderboard",component:I}),l.a.createElement(u.b,{exact:!0,path:"/profile",render:function(t){return l.a.createElement(H,Object.assign({loggedInUser:e.state.loggedInUser,onDelete:e.handleLogOut},t))}}),l.a.createElement(u.b,{path:"/profile/edit",render:function(t){return l.a.createElement(T,Object.assign({loggedInUser:e.state.loggedInUser,onEdit:e.handleEdit},t))}}),l.a.createElement(u.b,{path:"/hero-home",render:function(t){return l.a.createElement(P,Object.assign({loggedInUser:e.state.loggedInUser},t))}}),l.a.createElement(u.b,{path:"/goals-success",render:function(t){return l.a.createElement(R,Object.assign({loggedInUser:e.state.loggedInUser},t))}}),l.a.createElement(u.b,{exact:!0,path:"/challenges",render:function(t){return l.a.createElement(B,Object.assign({loggedInUser:e.state.loggedInUser},t))}}),l.a.createElement(u.b,{path:"/challenges/create",render:function(t){return l.a.createElement(z,Object.assign({loggedInUser:e.state.loggedInUser,onSubmit:e.handleCreateChall},t))}}),l.a.createElement(u.b,{path:"/achievement/:achievementID",render:function(t){return l.a.createElement($,Object.assign({loggedInUser:e.state.loggedInUser},t))}}),l.a.createElement(u.b,{path:"/challenge/:challengeID",render:function(t){return l.a.createElement(Q,Object.assign({loggedInUser:e.state.loggedInUser},t,{onSuccess:e.hanldeNotification}))}}),l.a.createElement(u.b,{path:"/user/:userID",render:function(e){return l.a.createElement(X,e)}}),l.a.createElement(u.b,{path:"/goals-edit/:achievementID",render:function(t){return l.a.createElement(Z,Object.assign({onUpdate:e.handleUpdateGoal},t))}}),l.a.createElement(u.b,{exact:!0,path:"/groups",render:function(t){return l.a.createElement(ee,Object.assign({loggedInUser:e.state.loggedInUser},t))}}),l.a.createElement(u.b,{path:"/groups/create",render:function(t){return l.a.createElement(ae,Object.assign({onSubmit:e.handleCreateGroup,loggedInUser:e.state.loggedInUser},t))}}),l.a.createElement(u.b,{path:"/groups/:groupID",render:function(t){return l.a.createElement(te,Object.assign({loggedInUser:e.state.loggedInUser},t))}})),l.a.createElement(g.a,{show:this.state.showGeneralModal,onHide:this.handleModalClose},l.a.createElement(g.a.Header,{closeButton:!0},l.a.createElement(g.a.Title,null,this.state.modalHeader)),l.a.createElement(g.a.Body,null,this.state.modalMessage),l.a.createElement(g.a.Footer,null,l.a.createElement(E.a,{variant:this.modalButtonType,onClick:this.handleModalClose},"Ok, got it"))))}}]),a}(l.a.Component),le=Object(u.g)(ne);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(b.a,null,l.a.createElement(l.a.StrictMode,null,l.a.createElement(le,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},71:function(e,t,a){e.exports=a(127)},76:function(e,t,a){},77:function(e,t,a){},96:function(e,t,a){}},[[71,1,2]]]);
//# sourceMappingURL=main.f38701ea.chunk.js.map