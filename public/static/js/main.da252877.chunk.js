(this["webpackJsonpecohero-client-side"]=this["webpackJsonpecohero-client-side"]||[]).push([[0],Array(77).concat([function(e,a,t){e.exports=t(136)},,,,,function(e,a,t){},function(e,a,t){},,,,,,,,,,,,,,,,,,,function(e,a,t){},,,,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),s=t(36),r=t.n(s),o=(t(82),t(10)),c=t(11),i=t(13),m=t(12),u=(t(83),t(84),t(16)),d="https://eco-hero.herokuapp.com/api",h=t(6),p=t.n(h),g=t(4),E=t(14),v=t(28),f=t(30),N=t(5);t(102);function b(e){return l.a.createElement("div",null,l.a.createElement(v.a,{collapseOnSelect:!0,id:"myNavBar",fixed:"top",variant:"light",expand:"lg"},l.a.createElement("div",{id:"fakeitem"}),l.a.createElement(v.a.Brand,{href:"/"},l.a.createElement("img",{src:"/images/ecohero_logo.png",alt:"EH"})," EcoHero"),l.a.createElement(v.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),l.a.createElement(v.a.Collapse,{id:"responsive-navbar-nav"},l.a.createElement(f.a,{className:"mr-auto"},l.a.createElement(v.a.Toggle,null,l.a.createElement(N.b,{to:"/challenges"},"Challenges")),l.a.createElement(v.a.Toggle,null,l.a.createElement(N.b,{to:"/ranks"},"Ranks")),l.a.createElement(v.a.Toggle,null,l.a.createElement(N.b,{to:"/leaderboard"},"Hall of Heroes")),e.loggedInUser?l.a.createElement(v.a.Toggle,{className:"auth-link"},l.a.createElement("button",{onClick:e.onLogOut},"Logout")):l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a.Toggle,{className:"auth-link"},l.a.createElement(N.b,{to:"/signup"},"Sign Up")),l.a.createElement(v.a.Toggle,{className:"auth-link"},l.a.createElement(N.b,{to:"/login"},"Login"))))),l.a.createElement(f.a,{className:"mr-auto desktop-navbar"},l.a.createElement(N.b,{to:"/challenges","data-toggle":"collapse"},"Challenges"),l.a.createElement(N.b,{to:"/ranks","data-toggle":"collapse"},"Ranks"),l.a.createElement(N.b,{to:"/leaderboard","data-toggle":"collapse"},"Hall of Heroes"),e.loggedInUser?l.a.createElement("div",{className:"auth-link"},l.a.createElement("button",{onClick:e.onLogOut,"data-toggle":"collapse"},"Logout")):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"auth-link dont-hide"},l.a.createElement(N.b,{to:"/signup","data-toggle":"collapse"},"Sign Up")),l.a.createElement("div",{className:"auth-link dont-hide"},l.a.createElement(N.b,{to:"/login","data-toggle":"collapse"},"Login"))))))}var y=t(9);t(109);var C=function(e){return l.a.createElement("div",{id:"signup"},l.a.createElement(y.a,{className:"formUp",onSubmit:e.onSignUp},l.a.createElement(y.a.Group,null,l.a.createElement(y.a.Label,null,"Username"),l.a.createElement(y.a.Control,{type:"text",placeholder:"Enter username",name:"username"}),l.a.createElement(y.a.Text,{className:"text-muted"},"Make it as unique as you are.")),l.a.createElement(y.a.Group,null,l.a.createElement(y.a.Label,null,"Email address"),l.a.createElement(y.a.Control,{type:"email",placeholder:"Enter email",name:"email"}),l.a.createElement(y.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),l.a.createElement(y.a.Group,null,l.a.createElement(y.a.Label,null,"Password"),l.a.createElement(y.a.Control,{type:"password",placeholder:"Password",name:"password"}),l.a.createElement(y.a.Text,{className:"text-muted"},"Password needs to have at least 8 characters, a number and an Uppercase alphabet.")),l.a.createElement(y.a.Text,{className:"small-text"},"Already a member? ",l.a.createElement(N.b,{to:"/login"},"Login")),l.a.createElement("div",{className:"signUpBtn"},l.a.createElement(E.a,{className:"signUpBtnClick",variant:"primary",type:"submit"},l.a.createElement("img",{className:"leaf1",src:"/images/plant02.png",alt:"o"}),"Sign Up",l.a.createElement("img",{className:"leaf2",src:"/images/plant.png",alt:"o"})))))};t(110);var w=function(e){return l.a.createElement("div",{id:"login"},l.a.createElement(y.a,{className:"formIn",onSubmit:e.onLogIn},l.a.createElement(y.a.Group,null,l.a.createElement(y.a.Label,null,"Email address"),l.a.createElement(y.a.Control,{type:"email",placeholder:"Enter email",name:"email"})),l.a.createElement(y.a.Group,null,l.a.createElement(y.a.Label,null,"Password"),l.a.createElement(y.a.Control,{type:"password",placeholder:"Enter Password",name:"password"})),l.a.createElement(y.a.Text,{className:"small-text"},"Not a member yet? ",l.a.createElement(N.b,{to:"/signup"},"Sign Up")),l.a.createElement("div",{className:"loginBtn"},l.a.createElement(E.a,{className:"loginBtnClick",variant:"primary",type:"submit"},l.a.createElement("img",{className:"leaf1",src:"/images/plant02.png",alt:"o"}),"Log In",l.a.createElement("img",{className:"leaf2",src:"/images/plant.png",alt:"o"})))))},k=(t(111),function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"listContainer"},l.a.createElement("h4",{className:"rankTitle"},"Ranking System"),l.a.createElement("div",{className:"rankContainer"},l.a.createElement("div",{className:"rankAlign"},l.a.createElement("h5",null,l.a.createElement("strong",null,"New Hero")),l.a.createElement("p",null,"0-9.999 points"))),l.a.createElement("div",{className:"rankContainer"},l.a.createElement("div",{className:"rankAlign"},l.a.createElement("h5",null,l.a.createElement("strong",null,"Chill Hero")),l.a.createElement("p",null,"10.000-24.999 points")),l.a.createElement("p",{className:"perks"},l.a.createElement("strong",null,"Perks:")," Create events")),l.a.createElement("div",{className:"rankContainer"},l.a.createElement("div",{className:"rankAlign"},l.a.createElement("h5",null,l.a.createElement("strong",null,"Smart Hero")),l.a.createElement("p",null,"25.000-49.999 points")),l.a.createElement("p",{className:"perks"},l.a.createElement("strong",null,"Perks:")," Create challenges")),l.a.createElement("div",{className:"rankContainer"},l.a.createElement("div",{className:"rankAlign"},l.a.createElement("h5",null,l.a.createElement("strong",null,"Big Hero")),l.a.createElement("p",null,"50.000-99.999 points")),l.a.createElement("p",{className:"perks"},l.a.createElement("strong",null,"Perks:")," 10.000 Bonus points")),l.a.createElement("div",{className:"rankContainer"},l.a.createElement("div",{className:"rankAlign"},l.a.createElement("h5",null,l.a.createElement("strong",null,"Super Hero")),l.a.createElement("p",null,"100.000+ points")),l.a.createElement("p",{className:"perks"},l.a.createElement("strong",null,"Perks:")," Nice surprises")))}}]),t}(n.Component)),S=(t(112),function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"loadingTitle"},l.a.createElement("h3",null,"Loading...")),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"dash uno"}),l.a.createElement("div",{className:"dash dos"}),l.a.createElement("div",{className:"dash tres"}),l.a.createElement("div",{className:"dash cuatro"})),l.a.createElement("div",{className:"loadingRedirect"},l.a.createElement("p",null,"If you're not logged in yet, please "," "," ",l.a.createElement(N.b,{to:"/login"},"click on this link"))))}}]),t}(n.Component)),I=(t(113),function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=a.call.apply(a,[this].concat(l))).state={users:[]},e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat(d,"/users/leaderboard")).then((function(a){e.setState({users:a.data})}))}},{key:"render",value:function(){return this.state.users?l.a.createElement("div",{id:"leaderboard"},l.a.createElement("h3",{className:"HallTitle"},"Hall of Heroes"),l.a.createElement("ol",{className:"list"},this.state.users.map((function(e){var a=e.username,t=e.points,n=e._id;return l.a.createElement(N.b,{className:"listItems",to:"/user/".concat(n)},l.a.createElement("li",null,a," ",t," points"))})))):l.a.createElement(S,null)}}]),t}(n.Component));t(114);var U=function(){return l.a.createElement("div",{id:"about"},l.a.createElement("h5",null,"About us"),l.a.createElement("div",{className:"white-bg"},l.a.createElement("div",{className:"subtitle"},"Hello world!"),l.a.createElement("p",{className:"about-text"},"We are ",l.a.createElement("a",{href:"https://www.linkedin.com/in/elise-dujardin/",target:"_blank",rel:"noopener noreferrer"},"Elise Dujardin")," & ",l.a.createElement("a",{href:"https://www.linkedin.com/in/joel-roca-martinez-80b63629/",target:"_blank",rel:"noopener noreferrer"},"Joel Roca Martinez")," - Web Developers & IronHackers - and we are super excited to have you here!"),l.a.createElement("p",{className:"about-text"},l.a.createElement("strong",null,"Welcome to EcoHero"),", a platform that we have created in order to revert the destruction that humanity is creating in our planet. In here you will find a community of people that work with passionand perseverance in"," ",l.a.createElement("strong",null,"making Planet Earth a better place to live in")," , today, and tomorrow."),l.a.createElement("p",{className:"about-text"},"Join us in this frenetic quest and"," ",l.a.createElement("strong",null,"start today creating and sharing your impact!"))))},D=t(47),O=(t(115),function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=a.call.apply(a,[this].concat(l))).state={achievements:[],events:[]},e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat(d,"/achievements/allcompleted")).then((function(a){p.a.get("".concat(d,"/groups")).then((function(t){var n=t.data.filter((function(e){return e.finished}));e.setState({achievements:a.data,events:n})}))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return this.state.achievements?l.a.createElement("div",null,l.a.createElement(D.a,{id:"myCarousel"},this.state.achievements.map((function(e,a){return l.a.createElement(D.a.Item,{key:"publicSuccess"+a},l.a.createElement(N.b,{to:"/achievement/".concat(e._id)},l.a.createElement("img",{className:"d-block w-100",src:"/images/carouselbg.png",alt:"background"}),l.a.createElement(D.a.Caption,null,l.a.createElement("div",{className:"carousel-image"},l.a.createElement("table",{className:"img-container"},l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("img",{className:"d-block",src:e.image,alt:e.challenge.title}))))),l.a.createElement("div",{className:"carousel-text"},l.a.createElement("h5",null,e.challenge.title),l.a.createElement("div",{className:"user-infos"},l.a.createElement("img",{src:e.user.image,alt:e.user.username}),l.a.createElement("div",null,l.a.createElement("p",{className:"username"},e.user.username),l.a.createElement("p",{className:"points-info"},e.user.rank," - ",e.user.points," pts")))))))})),this.state.events.map((function(e,a){return l.a.createElement(D.a.Item,{key:"publicEvent"+a},l.a.createElement(N.b,{to:"/groups/".concat(e._id)},l.a.createElement("img",{className:"d-block w-100",src:"/images/carouselbg.png",alt:"background"}),l.a.createElement(D.a.Caption,null,l.a.createElement("div",{className:"carousel-image"},l.a.createElement("table",{className:"img-container"},l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("img",{className:"d-block",src:e.image,alt:e.challenge.title}))))),l.a.createElement("div",{className:"carousel-text"},l.a.createElement("h5",null,"Group Action"),l.a.createElement("h5",null,e.name),l.a.createElement("div",{className:"user-infos"},l.a.createElement("div",null,l.a.createElement("p",{className:"username"},e.location),l.a.createElement("p",{className:"points-info"},e.date)))))))})))):l.a.createElement(S,null)}}]),t}(n.Component)),T=(t(116),function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{id:"home"},l.a.createElement("div",{id:"hometitle"},l.a.createElement("h4",null,"Welcome to"),l.a.createElement("h3",null,"EcoHero")),l.a.createElement("div",null,l.a.createElement("p",{className:"punchline"},"Join the community, set your eco-friendly goals, share your success and ",l.a.createElement("strong",null,"become a Super EcoHero"),"!"),l.a.createElement(N.b,{to:"/signup"},l.a.createElement("button",{className:"bouncy"},l.a.createElement("img",{src:"/images/plant02.png",alt:"o"})," Get Started ! ",l.a.createElement("img",{src:"/images/plant.png",alt:"o"})))),l.a.createElement("div",{className:"carousel-container"},l.a.createElement("div",{className:"carousel-title"},l.a.createElement("h4",null,"Get Inspired"),l.a.createElement("h5",null,"... Our EcoHeroes success")),l.a.createElement(O,null)),l.a.createElement(U,null))}}]),t}(n.Component)),j=t(51);t(117);var H=function(e){var a="Chill Hero",t=1e4,n="Smart Hero",s=25e3,r="Big Hero",o=5e4,c="Super Hero",i=1e5;if(e.loggedInUser.points>=1e4&&e.loggedInUser.points<25e3){var m=Math.ceil((e.loggedInUser.points-t)/(s-t)*100);return l.a.createElement("div",null,l.a.createElement("div",{className:"ranksContainer"},l.a.createElement("p",{className:"ranks"},a),l.a.createElement(j.a,{className:"progress",striped:!0,variant:"success",now:m}),l.a.createElement("p",{className:"ranks"},n)),l.a.createElement("p",{className:"points"},e.loggedInUser.points,"/",s," points"))}if(e.loggedInUser.points>=25e3&&e.loggedInUser.points<5e4){var u=Math.ceil((e.loggedInUser.points-s)/(o-s)*100);return l.a.createElement("div",null,l.a.createElement("div",{className:"ranksContainer"},l.a.createElement("p",{className:"ranks"},n),l.a.createElement(j.a,{className:"progress",striped:!0,variant:"success",now:u}),l.a.createElement("p",{className:"ranks"},r)),l.a.createElement("p",{className:"points"},e.loggedInUser.points,"/",o," points"))}if(e.loggedInUser.points>=5e4&&e.loggedInUser.points<1e5){var d=Math.ceil((e.loggedInUser.points-o)/(i-o)*100);return l.a.createElement("div",null,l.a.createElement("div",{className:"ranksContainer"},l.a.createElement("p",{className:"ranks"},r),l.a.createElement(j.a,{className:"progress",striped:!0,variant:"success",now:d}),l.a.createElement("p",{className:"ranks"},c)),l.a.createElement("p",{className:"points"},e.loggedInUser.points,"/",i," points"))}if(e.loggedInUser.points>=1e5)return l.a.createElement("div",null,l.a.createElement("p",{className:"superHero"},c),l.a.createElement("p",{className:"points"},e.loggedInUser.points," points"));var h=Math.ceil(e.loggedInUser.points/t*100);return l.a.createElement("div",null,l.a.createElement("div",{className:"ranksContainer"},l.a.createElement("p",{className:"ranks"},"New Hero"),l.a.createElement(j.a,{className:"progress",striped:!0,variant:"success",now:h}),l.a.createElement("p",{className:"ranks"},a)),l.a.createElement("p",{className:"points"},e.loggedInUser.points,"/",t," points"))},_=(t(118),function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=a.call.apply(a,[this].concat(l))).state={userAchievements:[],showDeletePopup:!1},e.handleClick=function(){e.setState({showDeletePopup:!0})},e.handleClose=function(){e.setState({showDeletePopup:!1})},e.handleDeleteUser=function(){p.a.delete("".concat(d,"/users/").concat(e.props.loggedInUser._id),{withCredentials:!0}).then((function(a){e.props.onDelete()}))},e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.loggedInUser&&p.a.get("".concat(d,"/achievements/user/").concat(this.props.loggedInUser._id),{withCredentials:!0}).then((function(a){e.setState({userAchievements:a.data})}))}},{key:"render",value:function(){return this.state.userAchievements&&this.props.loggedInUser?l.a.createElement("div",{id:"myProfile"},l.a.createElement("h3",{className:"title"},"Your Profile"),l.a.createElement("div",{className:"white-card"},l.a.createElement("div",{className:"profilePic"},l.a.createElement("img",{src:this.props.loggedInUser.image,alt:"Avatar"})),l.a.createElement("div",{className:"infoContainer"},l.a.createElement("div",{className:"users-info"},l.a.createElement("p",null,l.a.createElement("strong",null,"Name:")," ",this.props.loggedInUser.username)),l.a.createElement("div",{className:"points-info"},l.a.createElement("p",{className:"total-rank"},l.a.createElement("strong",null,"Rank:")," ",this.props.loggedInUser.rank," - ",this.props.loggedInUser.points," points"))),l.a.createElement(H,{loggedInUser:this.props.loggedInUser}),l.a.createElement("div",{className:"edit-btn"},l.a.createElement(N.b,{to:"/profile/edit"},l.a.createElement("img",{src:"/images/edit.png",alt:"Valid"}),"Edit"),l.a.createElement("button",{className:"deleteUser",onClick:this.handleClick},l.a.createElement("img",{src:"/images/delete.png",alt:"Delete"}),"Delete"))),l.a.createElement(g.a,{className:"modalContainer",show:this.state.showDeletePopup,onHide:this.handleClose},l.a.createElement(g.a.Header,{className:"modalTitleContainer"},l.a.createElement(g.a.Title,{className:"modalTitle"},"Are you sure?")),l.a.createElement(g.a.Body,{className:"modalText"},"Are you sure you want to delete this account ?"),l.a.createElement(g.a.Footer,{className:"modalButtonsContainer"},l.a.createElement(E.a,{className:"buttonNo",variant:"danger",onClick:this.handleClose},"No, not yet."),l.a.createElement(E.a,{className:"buttonYes",variant:"success",onClick:this.handleDeleteUser},"Yes, I'm sure!")))):l.a.createElement(S,null)}}]),t}(n.Component)),M=(t(119),function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=a.call.apply(a,[this].concat(l))).state={userAchievements:[],showDeletePopup:!1,targetedAchievID:null},e.getUserAchievements=function(){p.a.get("".concat(d,"/achievements/user/").concat(e.props.loggedInUser._id),{withCredentials:!0}).then((function(a){var t=a.data.filter((function(e){return!1===e.completed}));e.setState({userAchievements:t})}))},e.handleClick=function(a){e.setState({showDeletePopup:!0,targetedAchievID:a})},e.handleClose=function(){e.setState({showDeletePopup:!1})},e.handleDelete=function(a){p.a.delete("".concat(d,"/achievements/").concat(a),{withCredentials:!0}).then((function(a){var t=JSON.parse(JSON.stringify(e.state.userAchievements));t.forEach((function(e,n){e._id===a.data._id&&t.splice(n,1)})),console.log(t),e.setState({userAchievements:t,showDeletePopup:!1})}))},e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.loggedInUser&&this.getUserAchievements()}},{key:"componentDidUpdate",value:function(e){e.loggedInUser||this.getUserAchievements()}},{key:"render",value:function(){var e=this;return this.state.userAchievements&&this.props.loggedInUser?l.a.createElement("div",{id:"heroHome"},l.a.createElement("h3",{className:"title"},"Hero Home"),l.a.createElement("div",{className:"white-card"},l.a.createElement("div",{className:"header"},l.a.createElement("img",{src:this.props.loggedInUser.image,alt:"Avatar"}),l.a.createElement("div",null,l.a.createElement("div",{className:"users-info"},l.a.createElement("h5",{className:"userName"},this.props.loggedInUser.username)),l.a.createElement("div",{className:"points-info"},l.a.createElement("p",{className:"total-rank"},this.props.loggedInUser.rank),l.a.createElement("p",{className:"total-points"},"- ",this.props.loggedInUser.points," points")))),l.a.createElement(H,{loggedInUser:this.props.loggedInUser}),l.a.createElement("div",{className:"your-tasks"},l.a.createElement("h4",null,l.a.createElement("img",{src:"/images/plant02.png",alt:"o"}),"Your EcoHero Tasks"),l.a.createElement("div",null,0===this.state.userAchievements.length?l.a.createElement("div",null,"You don't have any goal set yet... "):"",this.state.userAchievements.slice(0,2).map((function(a,t){var n=new Date(a.starting_date),s="0"+n.getDate(),r="0"+(n.getMonth()+1),o=s.slice(-2)+"/"+r.slice(-2);return l.a.createElement("div",{className:"one-task",key:"goals"+t},l.a.createElement("div",{className:"date-title"},l.a.createElement(N.b,{to:"/achievement/".concat(a._id)},l.a.createElement("p",null,o),l.a.createElement("h6",null,a.challenge.title))),l.a.createElement("div",{className:"edit-btn"},l.a.createElement(N.b,{to:"/goals-edit/".concat(a._id)},l.a.createElement("img",{src:"/images/valid.png",alt:"Valid"})),l.a.createElement("button",{onClick:function(){return e.handleClick(a._id)}},l.a.createElement("img",{src:"/images/delete.png",alt:"Delete"}))))})),l.a.createElement("div",{className:"btn-container"},this.state.userAchievements.filter((function(e){return!1===e.completed})).length>2?l.a.createElement("div",{className:"see-all"}," ",l.a.createElement(N.b,{to:"/goals-success"}," See all my goals")," "):"",l.a.createElement(N.b,{className:"btn-add",to:"/challenges"},"Add one more !"))))),l.a.createElement("div",{className:"carousel-container"},l.a.createElement("h4",{className:"carousel-title"},"Get Inspired"),l.a.createElement(O,null)),l.a.createElement(g.a,{className:"modalContainer",show:this.state.showDeletePopup,onHide:this.handleClose},l.a.createElement(g.a.Header,{className:"modalTitleContainer"},l.a.createElement(g.a.Title,{className:"modalTitle"},"Are you sure?")),l.a.createElement(g.a.Body,{className:"modalText"},"Are you sure you want to delete this goal from your list ?"),l.a.createElement(g.a.Footer,{className:"modalButtonsContainer"},l.a.createElement(E.a,{className:"buttonNo",variant:"danger",onClick:this.handleClose},"No, not yet."),l.a.createElement(E.a,{className:"buttonYes",variant:"success",onClick:function(){return e.handleDelete(e.state.targetedAchievID)}},"Yes, I'm sure!")))):l.a.createElement(S,null)}}]),t}(n.Component)),B=(t(120),function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(f.a,{id:"dashboard",activeKey:"/home"},l.a.createElement(f.a.Item,null,l.a.createElement(N.b,{to:"/hero-home"}," ",l.a.createElement("img",{src:"/hero-home"===this.props.history.location.pathname?"/images/homefull.png":"/images/home.png",alt:"hero-home"})," Hero Home ")),l.a.createElement(f.a.Item,null,l.a.createElement(N.b,{to:"/goals-success"}," ",l.a.createElement("img",{src:"/goals-success"===this.props.history.location.pathname?"/images/goalfull.png":"/images/goal.png",alt:"goals & success"}),"  Goals & Success ")),l.a.createElement(f.a.Item,null,l.a.createElement(N.b,{to:"/groups"}," ",l.a.createElement("img",{src:"/groups"===this.props.history.location.pathname?"/images/collaborationfull.png":"/images/collaboration.png",alt:"group"})," Events ")),l.a.createElement(f.a.Item,null,l.a.createElement(N.b,{to:"/profile"}," ",l.a.createElement("img",{src:"/profile"===this.props.history.location.pathname?"/images/userfull.png":"/images/user.png",alt:"profile"})," Profile "))))}}]),t}(n.Component)),A=Object(u.g)(B),P=(t(121),function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).handleUsernameChange=function(e){var a=JSON.parse(JSON.stringify(n.state.user));a.username=e.currentTarget.value,n.setState({user:a})},n.handleEmailChange=function(e){var a=JSON.parse(JSON.stringify(n.state.user));a.email=e.currentTarget.value,n.setState({user:a})},n.handlePasswordChange=function(e){var a=JSON.parse(JSON.stringify(n.state.user));a.password=e.currentTarget.value,n.setState({user:a})},n.handleImageChange=function(e){var a=new FormData;a.append("imageUrl",e.currentTarget.files[0]),p.a.post("".concat(d,"/upload"),a,{withCredentials:!0}).then((function(e){var a=JSON.parse(JSON.stringify(n.state.user));a.image=e.data.image,n.setState({user:a})}))},n.state={loggedInUser:null,user:null},n}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat(d,"/auth/user"),{withCredentials:!0}).then((function(a){p.a.get("".concat(d,"/users/").concat(a.data._id),{withCredentials:!0}).then((function(t){e.setState({loggedInUser:a.data,user:t.data})}))}))}},{key:"render",value:function(){var e=this;if(!this.state.user)return l.a.createElement(S,null);var a=this.state.user,t=a.username,n=a.image,s=a.password,r=a.email;return l.a.createElement("div",{id:"editProfile"},l.a.createElement("h3",{className:"title"},"Edit your profile"),l.a.createElement("div",{className:"white-card"},l.a.createElement("div",{className:"image-edit"},l.a.createElement("img",{src:n,alt:"Avatar"}),l.a.createElement("div",{className:"input-container"},l.a.createElement("label",{htmlFor:"image"},"Modify your profile picture:"),l.a.createElement("input",{type:"file",id:"image",name:"image",accept:"image/png, image/jpeg",onChange:this.handleImageChange}))),l.a.createElement("div",{className:"input-container"},l.a.createElement("label",null,"Update your username"),l.a.createElement("input",{onChange:this.handleUsernameChange,name:"username",type:"text",placeholder:"Enter username",value:t})),l.a.createElement("div",{className:"input-container"},l.a.createElement("label",null,"Change your email"),l.a.createElement("input",{onChange:this.handleEmailChange,name:"email",type:"email",value:r,placeholder:"Enter email"})),l.a.createElement("div",{className:"input-container"},l.a.createElement("label",null,"Set a new password"),l.a.createElement("input",{onChange:this.handlePasswordChange,name:"password",type:"password",value:s,placeholder:"Enter password"})),l.a.createElement("button",{className:"submit-btn",onClick:function(){return e.props.onEdit(e.state.user)},type:"submit"},l.a.createElement("img",{className:"editLeafL",src:"/images/plant02.png",alt:"o"})," Edit",l.a.createElement("img",{className:"editLeafR",src:"/images/plant.png",alt:"o"}))))}}]),t}(n.Component)),G=t(24),L=t(34),x=(t(122),function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=a.call.apply(a,[this].concat(l))).state={challenges:[],filteredChallenges:[],showPopUp:!1},e.handleSearch=function(a){var t=a.currentTarget.value.toLowerCase(),n=e.state.challenges.filter((function(e){return e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)}));e.setState({filteredChallenges:n})},e.handleCreateClick=function(){!e.props.loggedInUser||e.props.loggedInUser.points<25e3?e.setState({showPopUp:!0}):e.props.history.push("/challenges/create")},e.handleClose=function(){e.setState({showPopUp:!1})},e.handleSort=function(a){a.preventDefault();var t=JSON.parse(JSON.stringify(e.state.filteredChallenges));"low"===a.currentTarget.value?t.sort((function(e,a){return e.points-a.points})):t.sort((function(e,a){return a.points-e.points})),e.setState({filteredChallenges:t})},e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat(d,"/challenges")).then((function(a){var t=a.data.filter((function(e){return"individual"===e.status}));e.setState({challenges:t,filteredChallenges:t})}))}},{key:"render",value:function(){return this.state.challenges?l.a.createElement("div",{id:"challenges"},l.a.createElement("h3",{className:"challengesTitle"},"Challenges"),l.a.createElement("div",{className:"search-part"},l.a.createElement(G.a,{className:"mb-3"},l.a.createElement(G.a.Prepend,null,l.a.createElement(G.a.Text,{id:"basic-addon1"},"\ud83d\udd0e")),l.a.createElement(L.a,{onChange:this.handleSearch,placeholder:"Search for a challenge","aria-label":"Search for a challenge","aria-describedby":"basic-addon1"})),l.a.createElement(y.a.Control,{onChange:this.handleSort,as:"select",defaultValue:"Sort by..."},l.a.createElement("option",null,"Sort by..."),l.a.createElement("option",{value:"high"},"Points - high to low "),l.a.createElement("option",{value:"low"},"Points - low to high")),this.props.loggedInUser?l.a.createElement(E.a,{className:"bouncy",onClick:this.handleCreateClick},l.a.createElement("img",{className:"plantL",src:"/images/plant02.png",alt:"o"}),"Create a Challenge"):""),l.a.createElement("div",{className:"one-success-container"},this.state.filteredChallenges.map((function(e,a){return l.a.createElement("div",{className:"one-success",key:"challenge"+a},l.a.createElement(N.b,{className:"link",to:"/challenge/".concat(e._id)},l.a.createElement("p",null,e.title),l.a.createElement("p",null,l.a.createElement("strong",null,e.points," points"))))}))),l.a.createElement(g.a,{className:"modalContainer",show:this.state.showPopUp,onHide:this.handleClose},l.a.createElement(g.a.Header,{className:"modalTitleContainer"},l.a.createElement(g.a.Title,{className:"modalTitle"},"Not yet!")),l.a.createElement(g.a.Body,{className:"modalText"},"Achieve Smart Hero rank in order to do that \ud83d\ude09"," "),l.a.createElement(g.a.Footer,{className:"modalButtonsContainer"},l.a.createElement(E.a,{className:"buttonYes",variant:"success",onClick:this.handleClose},"Ok, got it")))):l.a.createElement(S,null)}}]),t}(n.Component)),Y=t(139),J=t(141),F=t(143),V=t(140),W=t(142),R=t(144);t(123);function q(e){return l.a.createElement("div",{id:"socialMedia"},l.a.createElement("div",{className:"sharing-logo"},l.a.createElement(Y.a,{className:"sharing-logo",url:"https://eco-hero.herokuapp.com/",quote:"Hey! I have achieved this challenge at Eco-Hero! Check it out!"},l.a.createElement(V.a,{size:30}))),l.a.createElement("div",{className:"sharing-logo"},l.a.createElement(J.a,{className:"sharing-logo",url:"https://eco-hero.herokuapp.com/",quote:"Hey! I have achieved this challenge at Eco-Hero! Check it out!"},l.a.createElement(W.a,{size:30}))),l.a.createElement("div",{className:"sharing-logo"},l.a.createElement(F.a,{className:"sharing-logo",url:"https://eco-hero.herokuapp.com/",quote:"Hey! I have achieved this challenge at Eco-Hero! Check it out!"},l.a.createElement(R.a,{size:30}))))}t(124);var z=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=a.call.apply(a,[this].concat(l))).state={userAchievements:[],showDeletePopup:!1,targetedAchievID:null,filteredAchievements:[],userGroups:null,targetedGroupID:null,filteredGroups:null,functionSetUp:null,showTimeModal:!1},e.getUsersInfos=function(){p.a.get("".concat(d,"/achievements/user/").concat(e.props.loggedInUser._id),{withCredentials:!0}).then((function(a){p.a.get("".concat(d,"/groups/user/").concat(e.props.loggedInUser._id),{withCredentials:!0}).then((function(t){e.setState({userAchievements:a.data,filteredAchievements:a.data,userGroups:t.data,filteredGroups:t.data})}))}))},e.handleClick=function(a){e.setState({showDeletePopup:!0,targetedAchievID:a,functionSetUp:"achievement"})},e.handleEventClick=function(a){e.setState({showDeletePopup:!0,targetedGroupID:a,functionSetUp:"event"})},e.handleCheckValidate=function(a){var t=new Date(Date.now());t.setHours(0),t<new Date(a.date)?e.setState({showTimeModal:!0}):e.props.history.push("/event-edit/".concat(a._id))},e.handleClose=function(){e.setState({showDeletePopup:!1,showTimeModal:!1})},e.handleDelete=function(a){p.a.delete("".concat(d,"/achievements/").concat(a),{withCredentials:!0}).then((function(a){var t=JSON.parse(JSON.stringify(e.state.userAchievements));t.forEach((function(e,n){e._id===a.data._id&&t.splice(n,1)})),e.setState({userAchievements:t,showDeletePopup:!1})}))},e.handleEventDelete=function(a){p.a.delete("".concat(d,"/groups/").concat(a),{withCredentials:!0}).then((function(a){var t=JSON.parse(JSON.stringify(e.state.userGroups));t.forEach((function(e,n){e._id===a.data._id&&t.splice(n,1)})),e.setState({userGroups:t,showDeletePopup:!1})}))},e.handleSearchAch=function(a){var t=a.currentTarget.value.toLowerCase(),n=e.state.userAchievements.filter((function(e){return!0===e.completed&&(e.challenge.title.toLowerCase().includes(t)||e.challenge.description.toLowerCase().includes(t))})),l=e.state.userGroups.filter((function(e){return!0===e.finished&&(e.name.toLowerCase().includes(t)||e.location.toLowerCase().includes(t))}));e.setState({filteredAchievements:n,filteredGroups:l})},e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.loggedInUser&&this.getUsersInfos()}},{key:"componentDidUpdate",value:function(e){e.loggedInUser||this.getUsersInfos()}},{key:"render",value:function(){var e=this;return this.state.userAchievements&&this.state.userGroups&&this.props.loggedInUser?l.a.createElement("div",{id:"goalsSuccess"},l.a.createElement("div",{className:"exp-bar"},l.a.createElement(H,{loggedInUser:this.props.loggedInUser})),l.a.createElement("h3",{className:"title"},"Your Goals & Success"),l.a.createElement("div",{className:"white-card"},l.a.createElement("div",{className:"goals"},l.a.createElement("h4",{className:"subtitle"},l.a.createElement("img",{src:"/images/plant02.png",alt:"o"}),"Your EcoHero Tasks"),0===this.state.userAchievements.filter((function(e){return!1===e.completed})).length?l.a.createElement("div",null,"You don't have any goal set yet... "):"",this.state.userAchievements.map((function(a,t){if(!a.completed&&"group"!==a.challenge.status){var n=new Date(a.starting_date),s="0"+n.getDate(),r="0"+(n.getMonth()+1),o=s.slice(-2)+"/"+r.slice(-2);return l.a.createElement("div",{className:"achiev-container",key:"goals"+t},l.a.createElement(N.b,{className:"date-title",to:"/achievement/".concat(a._id)},l.a.createElement("p",null,o),l.a.createElement("h6",null,a.challenge.title)),l.a.createElement("div",{className:"edit-btn"},l.a.createElement(N.b,{to:"/goals-edit/".concat(a._id)},l.a.createElement("img",{src:"/images/valid.png",alt:"Valid"})),l.a.createElement("button",{onClick:function(){return e.handleClick(a._id)}},l.a.createElement("img",{src:"/images/delete.png",alt:"Delete"}))))}})),l.a.createElement("div",{className:"btn-container"},l.a.createElement(N.b,{className:"btn-add",to:"/challenges"},"Add one more !"))),l.a.createElement("div",{className:"events"},l.a.createElement("h4",{className:"subtitle"},l.a.createElement("img",{src:"/images/plant02.png",alt:"o"}),"Your upcoming events"),0===this.state.userGroups.filter((function(e){return!1===e.finished})).length?l.a.createElement("div",null,"You don't have any upcoming event... "):"",this.state.userGroups.map((function(a,t){var n=new Date(a.date),s="0"+n.getDate(),r="0"+(n.getMonth()+1);if(n=s.slice(-2)+"/"+r.slice(-2),!1===a.finished)return l.a.createElement("div",{className:"achiev-container event",key:"event"+t},l.a.createElement(N.b,{className:"event-info",to:"/groups/".concat(a._id)},l.a.createElement("p",{className:"event-date"},n),a.members[0]._id===e.props.loggedInUser._id?l.a.createElement("p",{className:"event-details"},a.name," - ",a.location):l.a.createElement(l.a.Fragment,null,l.a.createElement("h6",null,a.name),l.a.createElement("p",null,a.location))),a.members[0]._id===e.props.loggedInUser._id?l.a.createElement("div",{className:"edit-btn"},l.a.createElement("button",{onClick:function(){return e.handleCheckValidate(a)}},l.a.createElement("img",{src:"/images/valid.png",alt:"Valid"})),l.a.createElement("button",{className:"delete-event",onClick:function(){return e.handleEventClick(a._id)}},l.a.createElement("img",{src:"/images/delete.png",alt:"Delete"}))):"")})),l.a.createElement("div",{className:"btn-container"},l.a.createElement(N.b,{className:"btn-add",to:"/groups"},"Find events !"))),l.a.createElement("div",null,l.a.createElement("h4",{className:"subtitle"},l.a.createElement("img",{src:"/images/plant02.png",alt:"o"}),"You already nailed it!"),l.a.createElement(G.a,{className:"mb-3 searchBar"},l.a.createElement(G.a.Prepend,null,l.a.createElement(G.a.Text,{id:"basic-addon1"},"\ud83d\udd0e")),l.a.createElement(L.a,{onChange:this.handleSearchAch,placeholder:"Search for a success","aria-label":"Search for a success","aria-describedby":"basic-addon1"})),0===this.state.filteredAchievements.filter((function(e){return!0===e.completed})).length?l.a.createElement("div",null,"No Success yet... "):"",this.state.filteredAchievements.map((function(e,a){var t=new Date(e.finishing_date),n="0"+t.getDate(),s="0"+(t.getMonth()+1);if(t=n.slice(-2)+"/"+s.slice(-2),e.completed)return l.a.createElement("div",{className:"achiev-container",key:"success"+a},l.a.createElement(N.b,{className:"date-title",to:"/achievement/".concat(e._id)},l.a.createElement("p",null,t),l.a.createElement("h6",null,e.challenge.title)),l.a.createElement(q,{achievementID:e._id}))})),this.state.filteredGroups.map((function(e,a){var t=new Date(e.date),n="0"+t.getDate(),s="0"+(t.getMonth()+1);if(t=n.slice(-2)+"/"+s.slice(-2),e.finished)return l.a.createElement("div",{className:"achiev-container event",key:"success"+a},l.a.createElement(N.b,{className:"date-title",to:"/groups/".concat(e._id)},l.a.createElement("p",null,t),l.a.createElement("h6",null,e.name)),l.a.createElement(q,{achievementID:e._id}))})))),l.a.createElement(g.a,{className:"modalContainer",show:this.state.showDeletePopup,onHide:this.handleClose},l.a.createElement(g.a.Header,{className:"modalTitleContainer"},l.a.createElement(g.a.Title,{className:"modalTitle"},"Are you sure?")),l.a.createElement(g.a.Body,{className:"modalText"},"Are you sure you want to delete this goal from your list ?"),l.a.createElement(g.a.Footer,{className:"modalButtonsContainer"},l.a.createElement(E.a,{className:"buttonNo",variant:"danger",onClick:this.handleClose},"No, not yet."),l.a.createElement(E.a,{className:"buttonYes",variant:"success",onClick:"event"===this.state.functionSetUp?function(){return e.handleEventDelete(e.state.targetedGroupID)}:function(){return e.handleDelete(e.state.targetedAchievID)}},"Yes, I'm sure!"))),l.a.createElement(g.a,{className:"modalContainer",show:this.state.showTimeModal,onHide:this.handleClose},l.a.createElement(g.a.Header,{className:"modalTitleContainer"},l.a.createElement(g.a.Title,{className:"modalTitle"},"Not Yet!")),l.a.createElement(g.a.Body,{className:"modalText"},"You can't validate an event before it happens!"),l.a.createElement(g.a.Footer,{className:"modalButtonsContainer"},l.a.createElement(E.a,{className:"buttonYes",variant:"success",onClick:this.handleClose},"Ok, got it")))):l.a.createElement(S,null)}}]),t}(n.Component);t(125);var K=function(e){return!e.loggedInUser||e.loggedInUser.points<25e3?l.a.createElement(u.a,{to:"/challenges"}):l.a.createElement("div",{id:"createChallenge"},l.a.createElement("h1",{className:"createTitle"},"Create a Challenge"),l.a.createElement("div",{className:"white-card"},l.a.createElement(y.a,{onSubmit:e.onSubmit},l.a.createElement(y.a.Group,{className:"input-container"},l.a.createElement(y.a.Label,{className:"titles"},"Title"),l.a.createElement(y.a.Control,{className:"inputs",name:"title",type:"text",placeholder:"Title of the challenge",required:!0})),l.a.createElement(y.a.Group,{className:"input-container"},l.a.createElement(y.a.Label,{className:"titles"},"Description"),l.a.createElement(y.a.Control,{className:"inputs",name:"description",placeholder:"Describe your challenge",as:"textarea",rows:"3"})),l.a.createElement(y.a.Group,{className:"input-container"},l.a.createElement(y.a.Label,{className:"titles"},"Why is it useful?"),l.a.createElement(y.a.Control,{className:"inputs",name:"fact",placeholder:"Why is your challenge important for the planet?",as:"textarea",rows:"3"})),l.a.createElement(y.a.Group,{className:"input-container"},l.a.createElement(y.a.Label,{className:"titles"},"Points"),l.a.createElement(y.a.Control,{className:"inputs",name:"points",type:"number",max:"10000",min:"50",placeholder:"Max. 10 000"})),l.a.createElement(y.a.Text,null,l.a.createElement("div",{className:"rulesContainer"},l.a.createElement("p",null,l.a.createElement("strong",null,"Guideline:"))),l.a.createElement("div",{className:"summary"},l.a.createElement("p",{className:"rules"},l.a.createElement("strong",null,"1.")," ",l.a.createElement("u",null,"Short term goals"),": between 100 and 1000 points"),l.a.createElement("p",{className:"rules"},l.a.createElement("strong",null,"2.")," ",l.a.createElement("u",null,"Mid term goals"),": between 1000 and 10000 points"),l.a.createElement("p",{className:"rules"},l.a.createElement("strong",null,"3.")," ",l.a.createElement("u",null,"Long term goals"),": 10000+ points")),l.a.createElement("p",{className:"rules"},l.a.createElement("strong",null,"*")," As we want to encourage users to achieve short to mid term goals, ",l.a.createElement("strong",null,"we are capping the points at 10 000"),".")),l.a.createElement(E.a,{className:"createBtn",variant:"primary",type:"submit"},l.a.createElement("img",{className:"imageBtn1",src:"/images/plant02.png",alt:"o"}),"Create Challenge",l.a.createElement("img",{className:"imageBtn2",src:"/images/plant.png",alt:"o"})))))},$=(t(126),function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=a.call.apply(a,[this].concat(l))).state={loggedInUser:null,userGoalsIds:[],showPopUp:!1},e.handleClick=function(){e.state.userGoalsIds.includes(e.props.challenge)?e.setState({showPopUp:!0}):p.a.post("".concat(d,"/achievements/create/").concat(e.props.challenge,"/").concat(e.state.loggedInUser._id),{},{withCredentials:!0}).then((function(a){e.props.onSuccess("Challenge added to your Goals!")}))},e.handleClose=function(a){e.setState({showPopUp:!1})},e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.state.loggedInUser||p.a.get("".concat(d,"/auth/user"),{withCredentials:!0}).then((function(a){p.a.get("".concat(d,"/users/").concat(a.data._id),{withCredentials:!0}).then((function(a){p.a.get("".concat(d,"/achievements/user/").concat(a.data._id),{withCredentials:!0}).then((function(t){var n=t.data.filter((function(e){return!1===e.completed})).map((function(e){return e.challenge._id}));e.setState({loggedInUser:a.data,userGoalsIds:n})}))}))}))}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,{className:"addThisGoalBtn",onClick:this.handleClick},l.a.createElement("img",{src:"/images/valid.png",alt:"Valid"}),this.props.fromOther?l.a.createElement(l.a.Fragment,null,"I want to do it too!"):l.a.createElement(l.a.Fragment,null,"Add this Goal!")),l.a.createElement(g.a,{className:"modalContainer",show:this.state.showPopUp,onHide:function(){return e.handleClose("modal")}},l.a.createElement(g.a.Header,{className:"modalTitleContainer"},l.a.createElement(g.a.Title,{className:"modalTitle"},"Not yet!")),l.a.createElement(g.a.Body,{className:"modalText"},"You already have this challenge in your on going Goals. Finish it before to do it again. \ud83d\ude09"," "),l.a.createElement(g.a.Footer,{className:"modalButtonsContainer"},l.a.createElement(E.a,{className:"buttonYes",variant:"success",onClick:function(){return e.handleClose("modal")}},"Ok, got it"))))}}]),t}(n.Component)),Q=Object(u.g)($),X=(t(127),function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=a.call.apply(a,[this].concat(l))).state={achievement:null,showDeletePopup:!1},e.handleClick=function(){e.setState({showDeletePopup:!0})},e.handleClose=function(){e.setState({showDeletePopup:!1})},e.handleDelete=function(){p.a.delete("".concat(d,"/achievements/").concat(e.state.achievement._id),{withCredentials:!0}).then((function(a){e.props.history.push("/goals-success")}))},e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,a=this.props.match.params.achievementID;p.a.get("".concat(d,"/achievements/").concat(a),{withCredentials:!0}).then((function(a){e.setState({achievement:a.data})}))}},{key:"render",value:function(){if(!this.state.achievement)return l.a.createElement(S,null);var e=this.state.achievement,a=e.challenge,t=e.completed,n=e.user,s=e.image,r=e.finishing_date,o=e.starting_date,c=e._id,i=new Date(o).toLocaleDateString(),m=new Date(r).toLocaleDateString();return l.a.createElement("div",{id:"achievDetails"},l.a.createElement("div",{className:"white-card"},this.props.loggedInUser&&this.props.loggedInUser._id===n._id?"":l.a.createElement(N.b,{to:"/user/".concat(n._id),className:"back-link"},n.username,"'s profile"),l.a.createElement("div",{className:"header"},l.a.createElement("h4",null,a.title),l.a.createElement("p",null,a.points," points")),this.props.loggedInUser?t&&this.props.loggedInUser._id===n._id?l.a.createElement("div",{className:"sharing-logos"},l.a.createElement(q,{achievementID:c})):t?l.a.createElement("div",{className:"sharing-logos"},l.a.createElement(Q,{challenge:a._id,fromOther:!0})):"":"",t?this.props.loggedInUser&&this.props.loggedInUser._id===n._id?l.a.createElement("h5",{className:"subtitle"},l.a.createElement("img",{src:"/images/plant02.png",alt:"o"})," The task you fulfilled :"," "):l.a.createElement("h5",{className:"subtitle"},l.a.createElement("img",{src:"/images/plant02.png",alt:"o"})," The task ",n.username," fulfilled :"," "):l.a.createElement("h5",{className:"subtitle"}," ",l.a.createElement("img",{src:"/images/plant02.png",alt:"o"})," How to complete this goal?"),l.a.createElement("p",null,a.description),l.a.createElement("h5",{className:"subtitle"},l.a.createElement("img",{src:"/images/plant02.png",alt:"o"})," Why is it helpful?"),l.a.createElement("p",null,a.fact),l.a.createElement("p",{className:"date"},l.a.createElement("strong",null,"Started :")," ",i),t?l.a.createElement(l.a.Fragment,null,l.a.createElement("p",{className:"date"},l.a.createElement("strong",null,"Finished :")," ",m),l.a.createElement("img",{className:"d-block achiev-image",src:s,alt:"Uplaoded"})):l.a.createElement("div",{className:"edit-btn"},l.a.createElement(N.b,{to:"/goals-edit/".concat(c)},l.a.createElement("img",{src:"/images/valid.png",alt:"Valid"})," Complete it"),l.a.createElement("button",{onClick:this.handleClick},l.a.createElement("img",{src:"/images/delete.png",alt:"Delete"})," Delete it !"))),l.a.createElement(g.a,{className:"modalContainer",show:this.state.showDeletePopup,onHide:this.handleClose},l.a.createElement(g.a.Header,{className:"modalTitleContainer"},l.a.createElement(g.a.Title,{className:"modalTitle"},"Are you sure?")),l.a.createElement(g.a.Body,{className:"modalText"},"Are you sure you want to delete this goal from your list ?"),l.a.createElement(g.a.Footer,{className:"modalButtonsContainer"},l.a.createElement(E.a,{className:"buttonNo",variant:"danger",onClick:this.handleClose},"No, not yet."),l.a.createElement(E.a,{className:"buttonYes",variant:"success",onClick:this.handleDelete},"Yes, I'm sure!"))))}}]),t}(n.Component)),Z=(t(128),function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=a.call.apply(a,[this].concat(l))).state={challenge:null},e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,a=this.props.match.params.challengeID;p.a.get("".concat(d,"/challenges/").concat(a),{withCredentials:!0}).then((function(a){e.setState({challenge:a.data})}))}},{key:"render",value:function(){return this.state.challenge?l.a.createElement("div",{id:"challengeDetails"},l.a.createElement("div",{className:"white-card"},l.a.createElement("a",{href:"/challenges"},l.a.createElement("img",{src:"/images/back.png",alt:"Back",className:"back-btn"})),l.a.createElement("div",{className:"header"},l.a.createElement("h4",{className:"challengeDetailTitle"},this.state.challenge.title),l.a.createElement("p",null,this.state.challenge.points," points")),l.a.createElement("h5",{className:"subtitle"},l.a.createElement("img",{src:"/images/plant02.png",alt:"o"}),"How to complete this goal?"),l.a.createElement("p",null,this.state.challenge.description),l.a.createElement("h5",{className:"subtitle"},l.a.createElement("img",{src:"/images/plant02.png",alt:"o"}),"Why is it helpful?"),l.a.createElement("p",null,this.state.challenge.fact),this.props.loggedInUser?l.a.createElement("div",{className:"addGoalBtn"},l.a.createElement(Q,{challenge:this.state.challenge._id,onSuccess:this.props.onSuccess})):"")):l.a.createElement(S,null)}}]),t}(n.Component)),ee=(t(129),function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=a.call.apply(a,[this].concat(l))).state={user:null,userAchievements:[],userGroups:null},e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,a=this.props.match.params.userID;p.a.get("".concat(d,"/users/").concat(a),{withCredentials:!0}).then((function(a){console.log(a.data),p.a.get("".concat(d,"/achievements/user/").concat(a.data._id),{withCredentials:!0}).then((function(t){p.a.get("".concat(d,"/groups/user/").concat(a.data._id),{withCredentials:!0}).then((function(n){e.setState({user:a.data,userAchievements:t.data,userGroups:n.data})}))}))}))}},{key:"render",value:function(){return this.state.userAchievements&&this.state.user?l.a.createElement("div",{id:"otherProfile"},l.a.createElement("div",{className:"white-card"},l.a.createElement("div",{className:"header"},l.a.createElement("img",{src:this.state.user.image,alt:"Avatar",style:{width:"100px"}}),l.a.createElement("div",null,l.a.createElement("div",{className:"users-info"},l.a.createElement("h5",null,this.state.user.username)),l.a.createElement("div",{className:"points-info"},l.a.createElement("p",{className:"total-rank"},this.state.user.rank),l.a.createElement("p",{className:"total-points"},"- ",this.state.user.points," points")))),l.a.createElement(H,{loggedInUser:this.state.user}),l.a.createElement("div",{className:"user-success"},l.a.createElement("h4",null,l.a.createElement("img",{src:"/images/plant02.png",alt:"o"}),"Success"),this.state.userAchievements.map((function(e,a){if(e.completed){var t=new Date(e.finishing_date),n="0"+t.getDate(),s="0"+(t.getMonth()+1),r=n.slice(-2)+"/"+s.slice(-2);return l.a.createElement("div",{className:"one-success",key:"success"+a},l.a.createElement(N.b,{to:"/achievement/".concat(e._id)},l.a.createElement("p",null,r),l.a.createElement("h6",null,e.challenge.title)))}})),this.state.userGroups.map((function(e,a){if(e.finished){var t=new Date(e.date),n="0"+t.getDate(),s="0"+(t.getMonth()+1);return t=n.slice(-2)+"/"+s.slice(-2),l.a.createElement("div",{className:"one-success event",key:"event"+a},l.a.createElement(N.b,{to:"/groups/".concat(e._id)},l.a.createElement("p",null,t),l.a.createElement("h6",null,e.name)))}}))))):l.a.createElement(S,null)}}]),t}(n.Component)),ae=(t(130),function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=a.call.apply(a,[this].concat(l))).state={achievement:null,showPopUp:!1},e.handleImageChange=function(a){var t=new FormData;t.append("imageUrl",a.currentTarget.files[0]),p.a.post("".concat(d,"/upload"),t,{withCredentials:!0}).then((function(a){var t=JSON.parse(JSON.stringify(e.state.achievement));t.image=a.data.image,e.setState({achievement:t})}))},e.handleDateChange=function(a){var t=JSON.parse(JSON.stringify(e.state.achievement));t.finishing_date=a.currentTarget.value,e.setState({achievement:t})},e.handleClick=function(){e.setState({showPopUp:!0})},e.handleClose=function(){e.setState({showPopUp:!1})},e.fixTodayDate=function(){var e=new Date,a=e.getDate(),t=e.getMonth()+1;return a<10&&(a="0"+a),t<10&&(t="0"+t),e.getFullYear()+"-"+t+"-"+a},e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,a=this.props.match.params.achievementID;console.log(a),p.a.get("".concat(d,"/achievements/").concat(a),{withCredentials:!0}).then((function(a){console.log(a.data),e.setState({achievement:a.data})}))}},{key:"render",value:function(){var e=this;if(!this.state.achievement)return l.a.createElement(S,null);var a=this.state.achievement,t=a.image,n=a.challenge;return l.a.createElement("div",{id:"editGoal"},l.a.createElement("h3",{className:"title"},"Complete this Goal"),l.a.createElement("div",{className:"white-card"},l.a.createElement("div",{className:"header"},l.a.createElement("h4",null,n.title),l.a.createElement("p",null,n.points," points")),l.a.createElement("h5",{className:"subtitle"}," ",l.a.createElement("img",{src:"/images/plant02.png",alt:"o"})," How to complete this goal?"),l.a.createElement("p",null,n.description),l.a.createElement("h5",{className:"subtitle"}," ",l.a.createElement("img",{src:"/images/plant02.png",alt:"o"})," Before you valid this goal"),l.a.createElement("label",{htmlFor:"image"},"1. Download a picture :"),t?l.a.createElement("img",{src:t,alt:"Avatar"}):"",l.a.createElement("input",{type:"file",id:"image",name:"image",accept:"image/png, image/jpeg",onChange:this.handleImageChange}),l.a.createElement("label",{htmlFor:"finishing_date"},"2. When did you finish this task ?"),l.a.createElement("input",{name:"finishing_date",type:"date",onChange:this.handleDateChange,defaultValue:this.fixTodayDate(),max:this.fixTodayDate()}),l.a.createElement("div",{className:"edit-btn"},l.a.createElement("button",{onClick:this.handleClick,type:"submit"},l.a.createElement("img",{src:"/images/valid.png",alt:"Valid"})," Completed !"))),l.a.createElement(g.a,{className:"modalContainer",show:this.state.showPopUp,onHide:this.handleClose},l.a.createElement(g.a.Header,{className:"modalTitleContainer"},l.a.createElement(g.a.Title,{className:"modalTitle"},"Are you sure?")),l.a.createElement(g.a.Body,{className:"modalText"},"If you complete this goal, it will directly go to your success and you won't be able to edit it again. Are you sure you are ready to complete this goal?"),l.a.createElement(g.a.Footer,{className:"modalButtonsContainer"},l.a.createElement(E.a,{className:"buttonNo",variant:"danger",onClick:this.handleClose},"No, not yet."),l.a.createElement(E.a,{className:"buttonYes",variant:"success",onClick:function(){return e.props.onUpdate(e.state.achievement)}},"Yes, I'm sure!"))))}}]),t}(n.Component)),te=(t(131),function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=a.call.apply(a,[this].concat(l))).state={groups:[],filteredGroups:[],showPopUp:!1},e.handleSearch=function(a){var t=a.currentTarget.value.toLowerCase(),n=e.state.groups.filter((function(e){return e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.location.toLowerCase().includes(t)}));e.setState({filteredGroups:n})},e.handleCreateClick=function(){!e.props.loggedInUser||e.props.loggedInUser.points<1e4?e.setState({showPopUp:!0}):e.props.history.push("/groups/create")},e.handleClose=function(){e.setState({showPopUp:!1})},e.handleSort=function(a){a.preventDefault();var t=JSON.parse(JSON.stringify(e.state.filteredGroups));"low"===a.currentTarget.value?t.sort((function(e,a){return a.date<e.date?-1:a.date>e.date?1:0})):t.sort((function(e,a){return e.date<a.date?-1:e.date>a.date?1:0})),e.setState({filteredGroups:t})},e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat(d,"/groups"),{withCredentials:!0}).then((function(a){var t=a.data.filter((function(e){return new Date(e.date)>=new Date(Date.now())}));e.setState({groups:t,filteredGroups:t})}))}},{key:"render",value:function(){return this.state.groups&&this.props.loggedInUser?l.a.createElement("div",{id:"groups"},l.a.createElement("h3",{className:"groupsTitle"},"EcoHero Events"),l.a.createElement("div",{className:"search-part"},l.a.createElement(G.a,{className:"mb-3"},l.a.createElement(G.a.Prepend,null,l.a.createElement(G.a.Text,{id:"basic-addon1"},"\ud83d\udd0e")),l.a.createElement(L.a,{onChange:this.handleSearch,placeholder:"Search for an event","aria-label":"Search for an event","aria-describedby":"basic-addon1"})),l.a.createElement(y.a.Control,{onChange:this.handleSort,as:"select",defaultValue:"Sort by..."},l.a.createElement("option",null,"Sort by..."),l.a.createElement("option",{value:"high"},"Date - now to future "),l.a.createElement("option",{value:"low"},"Date - future to now")),this.props.loggedInUser?l.a.createElement(E.a,{className:"bouncy",onClick:this.handleCreateClick},l.a.createElement("img",{className:"plantL",src:"/images/plant02.png",alt:"o"}),"Create an event"):""),l.a.createElement("h4",{className:"listOfEvents"},"List of events"),l.a.createElement("div",{className:"one-success-container"},this.state.filteredGroups.map((function(e,a){var t=new Date(e.date),n="0"+t.getDate(),s="0"+(t.getMonth()+1);return t=n.slice(-2)+"/"+s.slice(-2),l.a.createElement(N.b,{className:"link",to:"/groups/".concat(e._id)},l.a.createElement("div",{className:"one-success",key:"group"+a},l.a.createElement("div",{className:"event-date"},t),l.a.createElement("div",{className:"event-name"},e.name),l.a.createElement("div",{className:"event-location"},e.location)))}))),l.a.createElement(g.a,{className:"modalContainer",show:this.state.showPopUp,onHide:this.handleClose},l.a.createElement(g.a.Header,{className:"modalTitleContainer"},l.a.createElement(g.a.Title,{className:"modalTitle"},"Not yet!")),l.a.createElement(g.a.Body,{className:"modalText"},"Achieve Chill Hero rank in order to do that \ud83d\ude09"," "),l.a.createElement(g.a.Footer,{className:"modalButtonsContainer"},l.a.createElement(E.a,{className:"buttonYes",variant:"success",onClick:this.handleClose},"Ok, got it")))):l.a.createElement(S,null)}}]),t}(n.Component)),ne=t(75),le=(t(132),function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=a.call.apply(a,[this].concat(l))).state={groupData:null,membersID:[],showPopUp:!1},e.handleJoin=function(){var a=e.props.loggedInUser,t=JSON.parse(JSON.stringify(e.state.groupData)),n=Object(ne.a)(t.members);n.push(a),t.members=n;var l=[];t.members.map((function(e){return l.push(e._id)})),p.a.patch("".concat(d,"/groups/").concat(e.state.groupData._id),{membersList:n},{withCredentials:!0}).then((function(a){e.setState({groupData:t,membersID:l})}))},e.handleValidate=function(){var a=new Date(Date.now());a.setHours(0),a<new Date(e.state.groupData.date)?e.setState({showPopUp:!0}):e.props.history.push("/event-edit/".concat(e.state.groupData._id))},e.handleClose=function(){e.setState({showPopUp:!1})},e.handleLeave=function(){var a=e.props.loggedInUser,t=JSON.parse(JSON.stringify(e.state.groupData)),n=[];t.members.map((function(e){e._id!==a._id&&n.push(e)})),t.members=n;var l=[];t.members.map((function(e){return l.push(e._id)})),p.a.patch("".concat(d,"/groups/").concat(e.state.groupData._id),{membersList:n},{withCredentials:!0}).then((function(a){e.setState({groupData:t,membersID:l})}))},e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,a=this.props.match.params.groupID;p.a.get("".concat(d,"/groups/").concat(a),{withCredentials:!0}).then((function(a){var t=[];a.data.members.map((function(e){return t.push(e._id)})),e.setState({groupData:a.data,membersID:t})}))}},{key:"render",value:function(){if(!this.state.groupData)return l.a.createElement(S,null);var e=this.state.groupData,a=e.name,t=e.description,n=e.location,s=e.date,r=e.members,o=e.challenge,c=new Date(s).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"});return l.a.createElement("div",{id:"groupDetails"},l.a.createElement("h3",{className:"title"},a),l.a.createElement("div",{className:"white-card"},l.a.createElement("h5",{className:"subtitle"},"Description"),l.a.createElement("p",null,t),l.a.createElement("h5",{className:"subtitle"},"What is it about?"),l.a.createElement("p",null,o.description),l.a.createElement("h5",{className:"subtitle"},"Why is it useful?"),l.a.createElement("p",null,o.fact),l.a.createElement("h5",{className:"subtitle"},"How many points will I get?"),l.a.createElement("p",null,"Each participant will earn ",o.points," points"),l.a.createElement("h5",{className:"subtitle"},"Location"),l.a.createElement("p",null,n),l.a.createElement("h5",{className:"subtitle"},"Date"),l.a.createElement("p",null,c),l.a.createElement("h5",{className:"subtitle"},"Participants"),r.map((function(e,a){return l.a.createElement("div",{key:"member"+a},l.a.createElement(N.b,{to:"/user/".concat(e._id)},"- ",e.username," ",0===a?l.a.createElement("span",null," (creator)"):""))})),this.props.loggedInUser?this.state.membersID.includes(this.props.loggedInUser._id)?this.state.membersID[0]===this.props.loggedInUser._id?l.a.createElement("div",{className:"edit-btn"},l.a.createElement("button",{onClick:this.handleValidate},l.a.createElement("img",{src:"/images/valid.png",alt:"Valid"}),"Validate the event")):l.a.createElement("div",{className:"edit-btn"},l.a.createElement("button",{className:"leaveEvent",onClick:this.handleLeave},l.a.createElement("img",{src:"/images/delete.png",alt:"Delete"}),"Leave the event")):l.a.createElement("div",{className:"edit-btn"},l.a.createElement("button",{onClick:this.handleJoin},l.a.createElement("img",{src:"/images/valid.png",alt:"Valid"})," Join the event")):""),l.a.createElement(g.a,{className:"modalContainer",show:this.state.showPopUp,onHide:this.handleClose},l.a.createElement(g.a.Header,{className:"modalTitleContainer"},l.a.createElement(g.a.Title,{className:"modalTitle"},"Not Yet!")),l.a.createElement(g.a.Body,{className:"modalText"},"You can't validate an event before it happens!"),l.a.createElement(g.a.Footer,{className:"modalButtonsContainer"},l.a.createElement(E.a,{className:"buttonYes",variant:"success",onClick:this.handleClose},"Ok, got it"))))}}]),t}(n.Component)),se=t(59),re=t(52),oe=(t(133),function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=a.call.apply(a,[this].concat(l))).state={groupChallenges:[],isSelected:null,showModal:!1,modalMessage:"",modalHeader:"",modalButtonType:"",modalButtonStyle:{}},e.handleChallengeSelect=function(a){e.setState({isSelected:a})},e.handleCreateGroup=function(a){a.preventDefault();var t=new Date(Date.now());t.setHours(0),console.log("are we creating?");var n=a.currentTarget,l=n.name,s=n.description,r=n.location,o=n.date;""===l.value?e.setState({showModal:!0,modalMessage:"Please enter a name for your event",modalHeader:"Oops",modalButtonType:"success"}):null===e.state.isSelected?e.setState({showModal:!0,modalMessage:"Please choose a challenge for your event",modalHeader:"Oops",modalButtonType:"success"}):""===r.value?e.setState({showModal:!0,modalMessage:"Please choose a location for your event",modalHeader:"Oops",modalButtonType:"success"}):""===o.value?e.setState({showModal:!0,modalMessage:"Please choose a date for your event",modalHeader:"Oops",modalButtonType:"success"}):new Date(o.value)<t?e.setState({showModal:!0,modalMessage:"Your event can't be in the past!",modalHeader:"Oops",modalButtonType:"success"}):p.a.post("".concat(d,"/groups/create"),{name:l.value,description:s.value,location:r.value,date:o.value,user:e.props.loggedInUser,challenge:e.state.isSelected},{withCredentials:!0}).then((function(a){e.props.history.push("/groups")}))},e.handleModalClose=function(){e.setState({showModal:!1})},e.fixTodayDate=function(){var e=new Date,a=e.getDate(),t=e.getMonth()+1;return a<10&&(a="0"+a),t<10&&(t="0"+t),e.getFullYear()+"-"+t+"-"+a},e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat(d,"/challenges")).then((function(a){var t=a.data.filter((function(e){return"group"===e.status}));e.setState({groupChallenges:t})}))}},{key:"render",value:function(){var e=this;return!this.props.loggedInUser||this.props.loggedInUser.points<1e4?l.a.createElement(u.a,{to:"/groups"}):l.a.createElement("div",{id:"createGroup"},l.a.createElement("h1",{className:"createTitle"},"Create an Event"),l.a.createElement("div",{className:"white-card"},l.a.createElement(y.a,{onSubmit:this.handleCreateGroup},l.a.createElement(y.a.Group,{className:"input-container"},l.a.createElement(y.a.Label,{className:"titles"},"Name of the event"),l.a.createElement(y.a.Control,{className:"inputs",name:"name",type:"text",placeholder:"Name of the event",required:!0})),l.a.createElement(y.a.Group,{className:"input-container"},l.a.createElement(y.a.Label,{className:"titles"},"Description"),l.a.createElement(y.a.Control,{className:"inputs",name:"description",placeholder:"Describe your event",as:"textarea",rows:"3"})),l.a.createElement(y.a.Group,{className:"input-container"},l.a.createElement(y.a.Label,{className:"titles"}," Select a challenge for your event "),l.a.createElement(se.a,null,this.state.groupChallenges.map((function(a,t){return l.a.createElement(re.a,{className:"challengeContainer"},l.a.createElement(re.a.Header,null,l.a.createElement(se.a.Toggle,{className:"accordion-header",as:re.a.Header,variant:"link",eventKey:t+1},l.a.createElement(y.a.Check,{onClick:function(){return e.handleChallengeSelect(a._id)},key:"challenge"+t,type:"radio","aria-label":a._id,name:"challengeSelector",id:a._id}),l.a.createElement("div",null,a.title))),l.a.createElement(se.a.Collapse,{eventKey:t+1},l.a.createElement(re.a.Body,null,l.a.createElement("div",{className:"titles"},"Description:"),l.a.createElement("p",null,a.description),l.a.createElement("div",{className:"titles"},"Why is it useful?"),l.a.createElement("p",null,a.fact),l.a.createElement("div",{className:"titles"},"How many points will I get?"),l.a.createElement("p",null,"Every participant will earn ",a.points," points"))))})))),l.a.createElement(y.a.Group,{className:"input-container"},l.a.createElement(y.a.Label,{className:"titles"},"Location"),l.a.createElement(y.a.Control,{className:"inputs",name:"location",type:"text",placeholder:"Location of the event",required:!0})),l.a.createElement(y.a.Group,{className:"input-container"},l.a.createElement(y.a.Label,{className:"titles"},"Date"),l.a.createElement(y.a.Control,{className:"inputs",name:"date",type:"date",required:!0,min:this.fixTodayDate()})),l.a.createElement(E.a,{className:"createBtn",variant:"primary",type:"submit"},l.a.createElement("img",{className:"imageBtn1",src:"/images/plant02.png",alt:"o"}),"Create an event",l.a.createElement("img",{className:"imageBtn2",src:"/images/plant.png",alt:"o"})))),l.a.createElement(g.a,{className:"modalContainer",show:this.state.showModal,onHide:this.handleModalClose},l.a.createElement(g.a.Header,{className:"modalTitleContainer",style:this.state.modalButtonStyle},l.a.createElement(g.a.Title,{className:"modalTitle"},this.state.modalHeader)),l.a.createElement(g.a.Body,{className:"modalText"},this.state.modalMessage),l.a.createElement(g.a.Footer,{className:"modalButtonsContainer",style:this.state.modalButtonStyle},l.a.createElement(E.a,{className:"buttonYes",variant:this.state.modalButtonType,onClick:this.handleModalClose},"Ok, got it"))))}}]),t}(n.Component)),ce=(t(134),function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("section",{className:"page_404"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-12 "},l.a.createElement("div",{className:"col-sm-10 col-sm-offset-1  text-center"},l.a.createElement("div",{className:"four_zero_four_bg"},l.a.createElement("h1",{className:"text-center "},"404")),l.a.createElement("div",{className:"contant_box_404"},l.a.createElement("h3",{className:"h2"},"Look like you're lost"),l.a.createElement("p",null,"the page you are looking for is not avaible!"),l.a.createElement("a",{href:"/",className:"link_404"},"Go to Home"))))))))}}]),t}(n.Component)),ie=(t(135),function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=a.call.apply(a,[this].concat(l))).state={event:null,showPopUp:!1},e.handleImageChange=function(a){var t=new FormData;t.append("imageUrl",a.currentTarget.files[0]),p.a.post("".concat(d,"/upload"),t,{withCredentials:!0}).then((function(a){var t=JSON.parse(JSON.stringify(e.state.event));t.image=a.data.image,e.setState({event:t})}))},e.handleMember=function(e){console.log(e.currentTarget)},e.handleClick=function(){e.setState({showPopUp:!0})},e.handleClose=function(){e.setState({showPopUp:!1})},e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,a=this.props.match.params.eventID;console.log(a),p.a.get("".concat(d,"/groups/").concat(a),{withCredentials:!0}).then((function(a){console.log(a.data),e.setState({event:a.data})}))}},{key:"render",value:function(){var e=this;if(!this.state.event)return l.a.createElement("p",null,"Loading... If you're not login yet, please"," ",l.a.createElement(N.b,{to:"/login"},"click on this link"));var a=this.state.event,t=a.name,n=a.challenge,s=a.members,r=a.date,o=a.image,c=new Date(r).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"});return l.a.createElement("div",{id:"editEvent"},l.a.createElement("h3",{className:"title"},"Validate this Event"),l.a.createElement("div",{className:"white-card"},l.a.createElement("div",{className:"header"},l.a.createElement("h4",null,t),l.a.createElement("p",null,c)),l.a.createElement("h5",{className:"subtitle"}," ",l.a.createElement("img",{src:"/images/plant02.png",alt:"o"})," How to validate this event?"),l.a.createElement("p",null,n.description),l.a.createElement("h5",{className:"subtitle"}," ",l.a.createElement("img",{src:"/images/plant02.png",alt:"o"})," Before you valid this event"),l.a.createElement("label",{htmlFor:"image"},"1. Download a picture :"),o?l.a.createElement("img",{src:o,alt:"Avatar"}):"",l.a.createElement("input",{type:"file",id:"image",name:"image",accept:"image/png, image/jpeg",onChange:this.handleImageChange}),l.a.createElement("label",{htmlFor:"finishing_date"},"2. Who participates to this event ?"),s.map((function(a,t){return l.a.createElement("div",{key:"member"+t,className:"check-box"},l.a.createElement("input",{onChange:e.handleMember,type:"checkbox",id:a.username,name:a.username,value:a._id}),l.a.createElement("label",{for:a.username},a.username))})),l.a.createElement("div",{className:"edit-btn"},l.a.createElement("button",{onClick:this.handleClick,type:"submit"},l.a.createElement("img",{src:"/images/valid.png",alt:"Valid"})," Validate !"))),l.a.createElement(g.a,{className:"modalContainer",show:this.state.showPopUp,onHide:this.handleClose},l.a.createElement(g.a.Header,{className:"modalTitleContainer"},l.a.createElement(g.a.Title,{className:"modalTitle"},"Are you sure?")),l.a.createElement(g.a.Body,{className:"modalText"},"If you valid this event, it will directly go to every participants success and you won't be able to edit it again. Are you sure you are ready to complete this event?"),l.a.createElement(g.a.Footer,{className:"modalButtonsContainer"},l.a.createElement(E.a,{className:"buttonNo",variant:"danger",onClick:this.handleClose},"No, not yet."),l.a.createElement(E.a,{className:"buttonYes",variant:"success",onClick:function(){return e.props.onUpdate(e.state.event)}},"Yes, I'm sure!"))))}}]),t}(n.Component)),me=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=a.call.apply(a,[this].concat(l))).state={loggedInUser:null,showGeneralModal:!1,modalMessage:"",modalHeader:"",modalButtonType:"",modalButtonStyle:{}},e.handleSignUp=function(a){a.preventDefault();var t=a.currentTarget,n=t.username,l=t.email,s=t.password;p.a.post("".concat(d,"/auth/signup"),{username:n.value,email:l.value,password:s.value},{withCredentials:!0}).then((function(a){console.log(a.data),e.setState({loggedInUser:a.data},(function(){e.props.history.push("/hero-home")}))})).catch((function(a){var t=a.response.data.errorMessage;e.setState({showGeneralModal:!0,modalMessage:t,modalHeader:"Oops!",modalButtonType:"info",modalButtonStyle:{}})}))},e.handleLogIn=function(a){a.preventDefault();var t=a.currentTarget,n=t.email,l=t.password;p.a.post("".concat(d,"/auth/signin"),{email:n.value,password:l.value},{withCredentials:!0}).then((function(a){e.setState({loggedInUser:a.data},(function(){e.props.history.push("/hero-home")}))})).catch((function(a){var t=a.response.data.errorMessage;e.setState({showGeneralModal:!0,modalMessage:t,modalHeader:"Oops!",modalButtonType:"info",modalButtonStyle:{}})}))},e.handleLogOut=function(){p.a.post("".concat(d,"/auth/logout"),{},{withCredentials:!0}).then((function(){e.setState({loggedInUser:null},(function(){e.props.history.push("/")}))}))},e.handleEdit=function(a){if(""===a.username)e.setState({showGeneralModal:!0,modalMessage:"Username can't be blank",modalHeader:"Oops!",modalButtonType:"info",modalButtonStyle:{}});else if(""===a.email)e.setState({showGeneralModal:!0,modalMessage:"Email can't be blank",modalHeader:"Oops!",modalButtonType:"info",modalButtonStyle:{}});else if(""===a.password)e.setState({showGeneralModal:!0,modalMessage:"Password can't be blank",modalHeader:"Oops!",modalButtonType:"info",modalButtonStyle:{}});else{var t={username:a.username,email:a.email,image:a.image,password:a.password};p.a.patch("".concat(d,"/users/").concat(e.state.loggedInUser._id,"/edit"),t,{withCredentials:!0}).then((function(n){console.log(a),delete t.password,t._id=n.data._id,t.points=n.data.points,t.rank=n.data.rank,t.passwordHash=n.data.passwordHash,e.setState({loggedInUser:t},(function(){e.props.history.push("/profile")}))})).catch((function(a){console.log(a.response);var t,n=a.response.data.errorMessage;"DuplicateKey"===n.codeName?Object.keys(n.keyPattern).includes("username")?t="This username already exists. Please select a new one.":Object.keys(n.keyPattern).includes("email")&&(t="This email is already in use. Please select a new one."):t=n,e.setState({showGeneralModal:!0,modalMessage:t,modalHeader:"Oops!",modalButtonType:"info",modalButtonStyle:{}})}))}},e.handleCreateChall=function(a){a.preventDefault();var t=a.currentTarget,n=t.title,l=t.description,s=t.points,r=t.fact;console.log(s),""===n.value?e.setState({showGeneralModal:!0,modalMessage:"Please enter a title for your challenge",modalHeader:"Oops!",modalButtonType:"info",modalButtonStyle:{}}):""===s.value||s.value<100||s.value>1e4?(console.log("in the points if"),e.setState({showGeneralModal:!0,modalMessage:"The points should be between 100 and 10.000",modalHeader:"Oops!",modalButtonType:"info",modalButtonStyle:{}})):p.a.post("".concat(d,"/challenges/create"),{title:n.value,description:l.value,points:s.value,fact:r.value},{withCredentials:!0}).then((function(a){e.props.history.push("/challenges")})).catch((function(a){var t=a.response.data.errorMessage.errors,n=Object.keys(t)[0];e.setState({showGeneralModal:!0,modalMessage:"Please add some ".concat(n," to your challenge"),modalHeader:"Oops!",modalButtonType:"info",modalButtonStyle:{}})}))},e.handleUpdateGoal=function(a){var t=a.image,n=a._id,l=a.finishing_date;if(new Date(l)>new Date(Date.now()))e.setState({showGeneralModal:!0,modalMessage:"The achievement date should not be in the future",modalHeader:"Oops!",modalButtonType:"success",modalButtonStyle:{}});else{var s={completed:!0,image:t,finishing_date:l};p.a.patch("".concat(d,"/achievements/").concat(n),s,{withCredentials:!0}).then((function(a){var t=a.data.challenge.points,n=JSON.parse(JSON.stringify(e.state.loggedInUser)),l="",s=!1;n.points+=t;var r=e.handleRank(n.points);if("Big Hero"===r&&(n.points+=1e4),n.rank!==r){n.rank=r,s=!0;var o=e.handleBonus(r);l="You're now a ".concat(r,"! \n          ").concat(o)}console.log(n),p.a.patch("".concat(d,"/users/").concat(e.state.loggedInUser._id,"/edit"),n,{withCredentials:!0}).then((function(a){e.setState({loggedInUser:n,showGeneralModal:!!s,modalMessage:l,modalHeader:"Congratulations!",modalButtonType:"success",modalButtonStyle:{}},e.props.history.push("/hero-home"))}))}))}},e.handleRank=function(e){return e>=1e5?"Super Hero":e>5e4?"Big Hero":e>25e3?"Smart Hero":e>1e4?"Chill Hero":"New Hero"},e.handleBonus=function(e){switch(e){case"Chill Hero":return"You can now CREATE EVENTS!";case"Smart Hero":return"You can now CREATE CHALLENGES!";case"Big Hero":return"You win 10.000 points bonus!";case"Super Hero":return"You deserve nice surprises! Check your emails, we will contact you soon ;)"}},e.handleUpdateEvent=function(a){var t=a.image,n=a._id,l=a.members,s={finished:!0,image:t};p.a.patch("".concat(d,"/groups/valid/").concat(n),s,{withCredentials:!0}).then((function(a){var t=a.data.challenge.points;console.log(a.data.challenge.points);var n,s="",r=!1;l.forEach((function(a){console.log(a);var l=JSON.parse(JSON.stringify(a));l.points+=t;var o=e.handleRank(l.points);if(l.rank!==o&&(l.rank=o,"Big Hero"===o&&(l.points+=1e4),l._id===e.state.loggedInUser._id)){r=!0;var c=e.handleBonus(o);s="You're now a ".concat(o,"! \n              ").concat(c)}l._id===e.state.loggedInUser._id&&(n=l),console.log(l),p.a.patch("".concat(d,"/users/").concat(l._id,"/edit"),l,{withCredentials:!0}).then((function(e){console.log("user updated",e)}))})),e.setState({loggedInUser:n,showGeneralModal:!!r,modalMessage:s,modalHeader:"Congratulations!",modalButtonType:"success",modalButtonStyle:{}},e.props.history.push("/hero-home"))}))},e.handleModalClose=function(){e.setState({showGeneralModal:!1})},e.hanldeNotification=function(a){setTimeout(e.handleModalClose,1500),e.setState({showGeneralModal:!0,modalMessage:a,modalHeader:"Youpi!",modalButtonStyle:{display:"none"}},e.props.history.push("/goals-success"))},e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.state.loggedInUser||p.a.get("".concat(d,"/auth/user"),{withCredentials:!0}).then((function(a){p.a.get("".concat(d,"/users/").concat(a.data._id),{withCredentials:!0}).then((function(a){e.setState({loggedInUser:a.data})}))}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{id:"app"},l.a.createElement(b,{onLogOut:this.handleLogOut,loggedInUser:this.state.loggedInUser}),this.state.loggedInUser?l.a.createElement(A,null):"",l.a.createElement(u.d,null,l.a.createElement(u.b,{exact:!0,path:"/",component:T}),l.a.createElement(u.b,{path:"/signup",render:function(a){return l.a.createElement(C,Object.assign({onSignUp:e.handleSignUp},a))}}),l.a.createElement(u.b,{path:"/login",render:function(a){return l.a.createElement(w,Object.assign({onLogIn:e.handleLogIn},a))}}),l.a.createElement(u.b,{path:"/ranks",component:k}),l.a.createElement(u.b,{path:"/leaderboard",component:I}),l.a.createElement(u.b,{exact:!0,path:"/profile",render:function(a){return l.a.createElement(_,Object.assign({loggedInUser:e.state.loggedInUser,onDelete:e.handleLogOut},a))}}),l.a.createElement(u.b,{path:"/profile/edit",render:function(a){return l.a.createElement(P,Object.assign({loggedInUser:e.state.loggedInUser,onEdit:e.handleEdit},a))}}),l.a.createElement(u.b,{path:"/hero-home",render:function(a){return l.a.createElement(M,Object.assign({loggedInUser:e.state.loggedInUser},a))}}),l.a.createElement(u.b,{path:"/goals-success",render:function(a){return l.a.createElement(z,Object.assign({loggedInUser:e.state.loggedInUser},a))}}),l.a.createElement(u.b,{exact:!0,path:"/challenges",render:function(a){return l.a.createElement(x,Object.assign({loggedInUser:e.state.loggedInUser},a))}}),l.a.createElement(u.b,{path:"/challenges/create",render:function(a){return l.a.createElement(K,Object.assign({loggedInUser:e.state.loggedInUser,onSubmit:e.handleCreateChall},a))}}),l.a.createElement(u.b,{path:"/achievement/:achievementID",render:function(a){return l.a.createElement(X,Object.assign({loggedInUser:e.state.loggedInUser},a))}}),l.a.createElement(u.b,{path:"/challenge/:challengeID",render:function(a){return l.a.createElement(Z,Object.assign({loggedInUser:e.state.loggedInUser},a,{onSuccess:e.hanldeNotification}))}}),l.a.createElement(u.b,{path:"/user/:userID",render:function(e){return l.a.createElement(ee,e)}}),l.a.createElement(u.b,{path:"/goals-edit/:achievementID",render:function(a){return l.a.createElement(ae,Object.assign({onUpdate:e.handleUpdateGoal},a))}}),l.a.createElement(u.b,{exact:!0,path:"/groups",render:function(a){return l.a.createElement(te,Object.assign({loggedInUser:e.state.loggedInUser},a))}}),l.a.createElement(u.b,{path:"/groups/create",render:function(a){return l.a.createElement(oe,Object.assign({onSubmit:e.handleCreateGroup,loggedInUser:e.state.loggedInUser},a))}}),l.a.createElement(u.b,{path:"/groups/:groupID",render:function(a){return l.a.createElement(le,Object.assign({loggedInUser:e.state.loggedInUser},a))}}),l.a.createElement(u.b,{path:"/event-edit/:eventID",render:function(a){return l.a.createElement(ie,Object.assign({loggedInUser:e.state.loggedInUser,onUpdate:e.handleUpdateEvent},a))}}),l.a.createElement(u.b,{path:"*",component:ce})),l.a.createElement(g.a,{className:"modalContainer",show:this.state.showGeneralModal,onHide:this.handleModalClose},l.a.createElement(g.a.Header,{className:"modalTitleContainer",style:this.state.modalButtonStyle},l.a.createElement(g.a.Title,{className:"modalTitle"},this.state.modalHeader)),l.a.createElement(g.a.Body,{className:"modalText"},this.state.modalMessage),l.a.createElement(g.a.Footer,{className:"modalButtonsContainer",style:this.state.modalButtonStyle},l.a.createElement(E.a,{className:"buttonYes",variant:this.state.modalButtonType,onClick:this.handleModalClose},"Ok, got it"))))}}]),t}(l.a.Component),ue=Object(u.g)(me);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(N.a,null,l.a.createElement(l.a.StrictMode,null,l.a.createElement(ue,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}]),[[77,1,2]]]);
//# sourceMappingURL=main.da252877.chunk.js.map