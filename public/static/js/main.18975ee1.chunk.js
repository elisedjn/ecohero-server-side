(this["webpackJsonpecohero-client-side"]=this["webpackJsonpecohero-client-side"]||[]).push([[0],Array(77).concat([function(e,t,a){e.exports=a(136)},,,,,function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(35),s=a.n(r),c=(a(82),a(10)),o=a(11),i=a(13),m=a(12),u=(a(83),a(84),a(16)),d="https://eco-hero.herokuapp.com/api",h=a(5),p=a.n(h),g=a(4),E=a(14),v=a(28),f=a(38),b=a(8);a(102);function N(e){return l.a.createElement("div",null,l.a.createElement(v.a,{collapseOnSelect:!0,id:"myNavBar",fixed:"top",variant:"light",expand:"lg"},l.a.createElement("div",{id:"fakeitem"}),l.a.createElement(v.a.Brand,{href:"/"},l.a.createElement("img",{src:"/images/ecohero_logo.png",alt:"EH"})," EcoHero"),l.a.createElement(v.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),l.a.createElement(v.a.Collapse,{id:"responsive-navbar-nav"},l.a.createElement(f.a,{className:"mr-auto"},l.a.createElement(v.a.Toggle,{className:"dont-hide"},l.a.createElement(b.b,{to:"/challenges","data-toggle":"collapse"},"Challenges")),l.a.createElement(v.a.Toggle,{className:"dont-hide"},l.a.createElement(b.b,{to:"/ranks","data-toggle":"collapse"},"Ranks")),l.a.createElement(v.a.Toggle,{className:"dont-hide"},l.a.createElement(b.b,{to:"/leaderboard","data-toggle":"collapse"},"Hall of Heroes")),e.loggedInUser?l.a.createElement(v.a.Toggle,{className:"auth-link dont-hide"},l.a.createElement("button",{onClick:e.onLogOut,"data-toggle":"collapse"},"Logout")):l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a.Toggle,{className:"auth-link dont-hide"},l.a.createElement(b.b,{to:"/signup","data-toggle":"collapse"},"Sign Up")),l.a.createElement(v.a.Toggle,{className:"auth-link dont-hide"},l.a.createElement(b.b,{to:"/login","data-toggle":"collapse"},"Login")))))))}var y=a(9);a(109);var w=function(e){return l.a.createElement("div",{id:"signup"},l.a.createElement(y.a,{className:"formUp",onSubmit:e.onSignUp},l.a.createElement(y.a.Group,null,l.a.createElement(y.a.Label,null,"Username"),l.a.createElement(y.a.Control,{type:"text",placeholder:"Enter username",name:"username"}),l.a.createElement(y.a.Text,{className:"text-muted"},"Make it as unique as you are.")),l.a.createElement(y.a.Group,null,l.a.createElement(y.a.Label,null,"Email address"),l.a.createElement(y.a.Control,{type:"email",placeholder:"Enter email",name:"email"}),l.a.createElement(y.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),l.a.createElement(y.a.Group,null,l.a.createElement(y.a.Label,null,"Password"),l.a.createElement(y.a.Control,{type:"password",placeholder:"Password",name:"password"}),l.a.createElement(y.a.Text,{className:"text-muted"},"Password needs to have at least 8 characters, a number and an Uppercase alphabet.")),l.a.createElement(y.a.Text,{className:"small-text"},"Already a member? ",l.a.createElement(b.b,{to:"/login"},"Login")),l.a.createElement("div",{className:"signUpBtn"},l.a.createElement(E.a,{className:"signUpBtnClick",variant:"primary",type:"submit"},l.a.createElement("img",{className:"leaf1",src:"/images/plant02.png",alt:"o"}),"Sign Up",l.a.createElement("img",{className:"leaf2",src:"/images/plant.png",alt:"o"})))))};a(110);var C=function(e){return l.a.createElement("div",{id:"login"},l.a.createElement(y.a,{className:"formIn",onSubmit:e.onLogIn},l.a.createElement(y.a.Group,null,l.a.createElement(y.a.Label,null,"Email address"),l.a.createElement(y.a.Control,{type:"email",placeholder:"Enter email",name:"email"})),l.a.createElement(y.a.Group,null,l.a.createElement(y.a.Label,null,"Password"),l.a.createElement(y.a.Control,{type:"password",placeholder:"Enter Password",name:"password"})),l.a.createElement(y.a.Text,{className:"small-text"},"Not a member yet? ",l.a.createElement(b.b,{to:"/signup"},"Sign Up")),l.a.createElement("div",{className:"loginBtn"},l.a.createElement(E.a,{className:"loginBtnClick",variant:"primary",type:"submit"},l.a.createElement("img",{className:"leaf1",src:"/images/plant02.png",alt:"o"}),"Log In",l.a.createElement("img",{className:"leaf2",src:"/images/plant.png",alt:"o"})))))},k=(a(111),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"listContainer"},l.a.createElement("h4",{className:"rankTitle"},"Ranking System"),l.a.createElement("div",{className:"rankContainer"},l.a.createElement("div",{className:"rankAlign"},l.a.createElement("h5",null,l.a.createElement("strong",null,"New Hero")),l.a.createElement("p",null,"0-9.999 points"))),l.a.createElement("div",{className:"rankContainer"},l.a.createElement("div",{className:"rankAlign"},l.a.createElement("h5",null,l.a.createElement("strong",null,"Chill Hero")),l.a.createElement("p",null,"10.000-24.999 points")),l.a.createElement("p",{className:"perks"},l.a.createElement("strong",null,"Perks:")," Create groups")),l.a.createElement("div",{className:"rankContainer"},l.a.createElement("div",{className:"rankAlign"},l.a.createElement("h5",null,l.a.createElement("strong",null,"Smart Hero")),l.a.createElement("p",null,"25.000-49.999 points")),l.a.createElement("p",{className:"perks"},l.a.createElement("strong",null,"Perks:")," Create challenges")),l.a.createElement("div",{className:"rankContainer"},l.a.createElement("div",{className:"rankAlign"},l.a.createElement("h5",null,l.a.createElement("strong",null,"Big Hero")),l.a.createElement("p",null,"50.000-99.999 points")),l.a.createElement("p",{className:"perks"},l.a.createElement("strong",null,"Perks:")," 10.000 Bonus points")),l.a.createElement("div",{className:"rankContainer"},l.a.createElement("div",{className:"rankAlign"},l.a.createElement("h5",null,l.a.createElement("strong",null,"Super Hero")),l.a.createElement("p",null,"100.000+ points")),l.a.createElement("p",{className:"perks"},l.a.createElement("strong",null,"Perks:")," Nice surprises")))}}]),a}(n.Component)),I=(a(112),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"loadingTitle"},l.a.createElement("h3",null,"Loading...")),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"dash uno"}),l.a.createElement("div",{className:"dash dos"}),l.a.createElement("div",{className:"dash tres"}),l.a.createElement("div",{className:"dash cuatro"})),l.a.createElement("div",{className:"loadingRedirect"},l.a.createElement("p",null,"If you're not logged in yet, please "," "," ",l.a.createElement(b.b,{to:"/login"},"click on this link"))))}}]),a}(n.Component)),S=(a(113),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={users:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat(d,"/users/leaderboard")).then((function(t){e.setState({users:t.data})}))}},{key:"render",value:function(){return this.state.users?l.a.createElement("div",{id:"leaderboard"},l.a.createElement("h3",{className:"HallTitle"},"Hall of Heroes"),l.a.createElement("ol",{className:"list"},this.state.users.map((function(e){var t=e.username,a=e.points,n=e._id;return l.a.createElement(b.b,{className:"listItems",to:"/user/".concat(n)},l.a.createElement("li",null,t," ",a," points"))})))):l.a.createElement(I,null)}}]),a}(n.Component));a(114);var U=function(){return l.a.createElement("div",{id:"about"},l.a.createElement("h5",null,"About us"),l.a.createElement("div",{className:"white-bg"},l.a.createElement("div",{className:"subtitle"},"Hello world!"),l.a.createElement("p",{className:"about-text"},"We are ",l.a.createElement("a",{href:"https://www.linkedin.com/in/elise-dujardin/",target:"_blank",rel:"noopener noreferrer"},"Elise Dujardin")," & ",l.a.createElement("a",{href:"https://www.linkedin.com/in/joel-roca-martinez-80b63629/",target:"_blank",rel:"noopener noreferrer"},"Joel Roca Martinez")," - Web Developers & IronHackers - and we are super excited to have you here!"),l.a.createElement("p",{className:"about-text"},l.a.createElement("strong",null,"Welcome to EcoHero"),", a platform that we have created in order to revert the destruction that humanity is creating in our planet. In here you will find a community of people that work with passionand perseverance in"," ",l.a.createElement("strong",null,"making Planet Earth a better place to live in")," , today, and tomorrow."),l.a.createElement("p",{className:"about-text"},"Join us in this frenetic quest and"," ",l.a.createElement("strong",null,"start today creating and sharing your impact!"))))},O=a(47),D=(a(115),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={achievements:[],events:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat(d,"/achievements/allcompleted")).then((function(t){p.a.get("".concat(d,"/groups")).then((function(a){var n=a.data.filter((function(e){return e.finished}));e.setState({achievements:t.data,events:n})}))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return this.state.achievements?l.a.createElement("div",null,l.a.createElement(O.a,{id:"myCarousel"},this.state.achievements.map((function(e,t){return l.a.createElement(O.a.Item,{key:"publicSuccess"+t},l.a.createElement(b.b,{to:"/achievement/".concat(e._id)},l.a.createElement("img",{className:"d-block w-100",src:"/images/carouselbg.png",alt:"background"}),l.a.createElement(O.a.Caption,null,l.a.createElement("div",{className:"carousel-image"},l.a.createElement("table",{className:"img-container"},l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("img",{className:"d-block",src:e.image,alt:e.challenge.title}))))),l.a.createElement("div",{className:"carousel-text"},l.a.createElement("h5",null,e.challenge.title),l.a.createElement("div",{className:"user-infos"},l.a.createElement("img",{src:e.user.image,alt:e.user.username}),l.a.createElement("div",null,l.a.createElement("p",{className:"username"},e.user.username),l.a.createElement("p",{className:"points-info"},e.user.rank," - ",e.user.points," pts")))))))})),this.state.events.map((function(e,t){return l.a.createElement(O.a.Item,{key:"publicEvent"+t},l.a.createElement(b.b,{to:"/groups/".concat(e._id)},l.a.createElement("img",{className:"d-block w-100",src:"/images/carouselbg.png",alt:"background"}),l.a.createElement(O.a.Caption,null,l.a.createElement("div",{className:"carousel-image"},l.a.createElement("table",{className:"img-container"},l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("img",{className:"d-block",src:e.image,alt:e.challenge.title}))))),l.a.createElement("div",{className:"carousel-text"},l.a.createElement("h5",null,"Group Action"),l.a.createElement("h5",null,e.name),l.a.createElement("div",{className:"user-infos"},l.a.createElement("div",null,l.a.createElement("p",{className:"username"},e.location),l.a.createElement("p",{className:"points-info"},e.date)))))))})))):l.a.createElement(I,null)}}]),a}(n.Component)),j=(a(116),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{id:"home"},l.a.createElement("div",{id:"hometitle"},l.a.createElement("h4",null,"Welcome to"),l.a.createElement("h3",null,"EcoHero")),l.a.createElement("div",null,l.a.createElement("p",{className:"punchline"},"Join the community, set your eco-friendly goals, share your success and ",l.a.createElement("strong",null,"become a Super EcoHero"),"!"),l.a.createElement(b.b,{to:"/signup"},l.a.createElement("button",{className:"bouncy"},l.a.createElement("img",{src:"/images/plant02.png",alt:"o"})," Get Started ! ",l.a.createElement("img",{src:"/images/plant.png",alt:"o"})))),l.a.createElement("div",{className:"carousel-container"},l.a.createElement("div",{className:"carousel-title"},l.a.createElement("h4",null,"Get Inspired"),l.a.createElement("h5",null,"... Our EcoHeroes success")),l.a.createElement(D,null)),l.a.createElement(U,null))}}]),a}(n.Component)),H=a(51);a(117);var M=function(e){var t="Chill Hero",a=1e4,n="Smart Hero",r=25e3,s="Big Hero",c=5e4,o="Super Hero",i=1e5;if(e.loggedInUser.points>=1e4&&e.loggedInUser.points<25e3){var m=Math.ceil((e.loggedInUser.points-a)/(r-a)*100);return l.a.createElement("div",null,l.a.createElement("div",{className:"ranksContainer"},l.a.createElement("p",{className:"ranks"},t),l.a.createElement(H.a,{className:"progress",striped:!0,variant:"success",now:m}),l.a.createElement("p",{className:"ranks"},n)),l.a.createElement("p",{className:"points"},e.loggedInUser.points,"/",r," points"))}if(e.loggedInUser.points>=25e3&&e.loggedInUser.points<5e4){var u=Math.ceil((e.loggedInUser.points-r)/(c-r)*100);return l.a.createElement("div",null,l.a.createElement("div",{className:"ranksContainer"},l.a.createElement("p",{className:"ranks"},n),l.a.createElement(H.a,{className:"progress",striped:!0,variant:"success",now:u}),l.a.createElement("p",{className:"ranks"},s)),l.a.createElement("p",{className:"points"},e.loggedInUser.points,"/",c," points"))}if(e.loggedInUser.points>=5e4&&e.loggedInUser.points<1e5){var d=Math.ceil((e.loggedInUser.points-c)/(i-c)*100);return l.a.createElement("div",null,l.a.createElement("div",{className:"ranksContainer"},l.a.createElement("p",{className:"ranks"},s),l.a.createElement(H.a,{className:"progress",striped:!0,variant:"success",now:d}),l.a.createElement("p",{className:"ranks"},o)),l.a.createElement("p",{className:"points"},e.loggedInUser.points,"/",i," points"))}if(e.loggedInUser.points>=1e5)return l.a.createElement("div",null,l.a.createElement("p",{className:"superHero"},o),l.a.createElement("p",{className:"points"},e.loggedInUser.points," points"));var h=Math.ceil(e.loggedInUser.points/a*100);return l.a.createElement("div",null,l.a.createElement("div",{className:"ranksContainer"},l.a.createElement("p",{className:"ranks"},"New Hero"),l.a.createElement(H.a,{className:"progress",striped:!0,variant:"success",now:h}),l.a.createElement("p",{className:"ranks"},t)),l.a.createElement("p",{className:"points"},e.loggedInUser.points,"/",a," points"))},T=(a(118),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={userAchievements:[],showDeletePopup:!1},e.handleClick=function(){e.setState({showDeletePopup:!0})},e.handleClose=function(){e.setState({showDeletePopup:!1})},e.handleDeleteUser=function(){p.a.delete("".concat(d,"/users/").concat(e.props.loggedInUser._id),{withCredentials:!0}).then((function(t){e.props.onDelete()}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.loggedInUser&&p.a.get("".concat(d,"/achievements/user/").concat(this.props.loggedInUser._id),{withCredentials:!0}).then((function(t){e.setState({userAchievements:t.data})}))}},{key:"render",value:function(){return this.state.userAchievements&&this.props.loggedInUser?l.a.createElement("div",{id:"myProfile"},l.a.createElement("h3",{className:"title"},"Your Profile"),l.a.createElement("div",{className:"white-card"},l.a.createElement("div",{className:"profilePic"},l.a.createElement("img",{src:this.props.loggedInUser.image,alt:"Avatar"})),l.a.createElement("div",{className:"infoContainer"},l.a.createElement("div",{className:"users-info"},l.a.createElement("p",null,l.a.createElement("strong",null,"Name:")," ",this.props.loggedInUser.username)),l.a.createElement("div",{className:"points-info"},l.a.createElement("p",{className:"total-rank"},l.a.createElement("strong",null,"Rank:")," ",this.props.loggedInUser.rank," - ",this.props.loggedInUser.points," points"))),l.a.createElement(M,{loggedInUser:this.props.loggedInUser}),l.a.createElement("div",{className:"edit-btn"},l.a.createElement(b.b,{to:"/profile/edit"},l.a.createElement("img",{src:"/images/edit.png",alt:"Valid"}),"Edit"),l.a.createElement("button",{className:"deleteUser",onClick:this.handleClick},l.a.createElement("img",{src:"/images/delete.png",alt:"Delete"}),"Delete"))),l.a.createElement(g.a,{show:this.state.showDeletePopup,onHide:this.handleClose},l.a.createElement(g.a.Header,{closeButton:!0},l.a.createElement(g.a.Title,null,"Are you sure?")),l.a.createElement(g.a.Body,null,"Are you sure you want to delete this account ?"),l.a.createElement(g.a.Footer,null,l.a.createElement(E.a,{variant:"danger",onClick:this.handleClose},"No, not yet."),l.a.createElement(E.a,{variant:"success",onClick:this.handleDeleteUser},"Yes, I'm sure!")))):l.a.createElement(I,null)}}]),a}(n.Component)),_=(a(119),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={userAchievements:[],showDeletePopup:!1,targetedAchievID:null},e.getUserAchievements=function(){p.a.get("".concat(d,"/achievements/user/").concat(e.props.loggedInUser._id),{withCredentials:!0}).then((function(t){var a=t.data.filter((function(e){return!1===e.completed}));e.setState({userAchievements:a})}))},e.handleClick=function(t){e.setState({showDeletePopup:!0,targetedAchievID:t})},e.handleClose=function(){e.setState({showDeletePopup:!1})},e.handleDelete=function(t){p.a.delete("".concat(d,"/achievements/").concat(t),{withCredentials:!0}).then((function(t){var a=JSON.parse(JSON.stringify(e.state.userAchievements));a.forEach((function(e,n){e._id===t.data._id&&a.splice(n,1)})),console.log(a),e.setState({userAchievements:a,showDeletePopup:!1})}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.loggedInUser&&this.getUserAchievements()}},{key:"componentDidUpdate",value:function(e){e.loggedInUser||this.getUserAchievements()}},{key:"render",value:function(){var e=this;return this.state.userAchievements&&this.props.loggedInUser?l.a.createElement("div",{id:"heroHome"},l.a.createElement("h3",{className:"title"},"Hero Home"),l.a.createElement("div",{className:"white-card"},l.a.createElement("div",{className:"header"},l.a.createElement("img",{src:this.props.loggedInUser.image,alt:"Avatar"}),l.a.createElement("div",null,l.a.createElement("div",{className:"users-info"},l.a.createElement("h5",{className:"userName"},this.props.loggedInUser.username)),l.a.createElement("div",{className:"points-info"},l.a.createElement("p",{className:"total-rank"},this.props.loggedInUser.rank),l.a.createElement("p",{className:"total-points"},"- ",this.props.loggedInUser.points," points")))),l.a.createElement(M,{loggedInUser:this.props.loggedInUser}),l.a.createElement("div",{className:"your-tasks"},l.a.createElement("h4",null,l.a.createElement("img",{src:"/images/plant02.png",alt:"o"}),"Your EcoHero Tasks"),l.a.createElement("div",null,0===this.state.userAchievements.length?l.a.createElement("div",null,"You don't have any goal set yet... "):"",this.state.userAchievements.slice(0,2).map((function(t,a){var n=new Date(t.starting_date),r=n.getDate()+"/"+(n.getMonth()+1);return l.a.createElement("div",{className:"one-task",key:"goals"+a},l.a.createElement("div",{className:"date-title"},l.a.createElement(b.b,{to:"/achievement/".concat(t._id)},l.a.createElement("p",null,r),l.a.createElement("h6",null,t.challenge.title))),l.a.createElement("div",{className:"edit-btn"},l.a.createElement(b.b,{to:"/goals-edit/".concat(t._id)},l.a.createElement("img",{src:"/images/valid.png",alt:"Valid"})),l.a.createElement("button",{onClick:function(){return e.handleClick(t._id)}},l.a.createElement("img",{src:"/images/delete.png",alt:"Delete"}))))})),l.a.createElement("div",{className:"btn-container"},this.state.userAchievements.filter((function(e){return!1===e.completed})).length>2?l.a.createElement("div",{className:"see-all"}," ",l.a.createElement(b.b,{to:"/goals-success"}," See all my goals")," "):"",l.a.createElement(b.b,{className:"btn-add",to:"/challenges"},"Add one more !"))))),l.a.createElement("div",{className:"carousel-container"},l.a.createElement("h4",{className:"carousel-title"},"Get Inspired"),l.a.createElement(D,null)),l.a.createElement(g.a,{show:this.state.showDeletePopup,onHide:this.handleClose},l.a.createElement(g.a.Header,{closeButton:!0},l.a.createElement(g.a.Title,null,"Are you sure?")),l.a.createElement(g.a.Body,null,"Are you sure you want to delete this goal from your list ?"),l.a.createElement(g.a.Footer,null,l.a.createElement(E.a,{variant:"danger",onClick:this.handleClose},"No, not yet."),l.a.createElement(E.a,{variant:"success",onClick:function(){return e.handleDelete(e.state.targetedAchievID)}},"Yes, I'm sure!")))):l.a.createElement(I,null)}}]),a}(n.Component));a(120);var A=function(){return l.a.createElement("div",null,l.a.createElement(f.a,{id:"dashboard",activeKey:"/home"},l.a.createElement(f.a.Item,null,l.a.createElement(b.b,{to:"/hero-home"}," ",l.a.createElement("img",{src:"/images/home.png",alt:"hero-home"})," Hero Home ")),l.a.createElement(f.a.Item,null,l.a.createElement(b.b,{to:"/goals-success"}," ",l.a.createElement("img",{src:"/images/goal.png",alt:"goals & success"}),"  Goals & Success ")),l.a.createElement(f.a.Item,null,l.a.createElement(b.b,{to:"/groups"}," ",l.a.createElement("img",{src:"/images/collaboration.png",alt:"group"})," Events ")),l.a.createElement(f.a.Item,null,l.a.createElement(b.b,{to:"/profile"}," ",l.a.createElement("img",{src:"/images/user.png",alt:"profile"})," Profile "))))},B=(a(121),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleUsernameChange=function(e){var t=JSON.parse(JSON.stringify(n.state.user));t.username=e.currentTarget.value,n.setState({user:t})},n.handleEmailChange=function(e){var t=JSON.parse(JSON.stringify(n.state.user));t.email=e.currentTarget.value,n.setState({user:t})},n.handlePasswordChange=function(e){var t=JSON.parse(JSON.stringify(n.state.user));t.password=e.currentTarget.value,n.setState({user:t})},n.handleImageChange=function(e){var t=new FormData;t.append("imageUrl",e.currentTarget.files[0]),p.a.post("".concat(d,"/upload"),t,{withCredentials:!0}).then((function(e){var t=JSON.parse(JSON.stringify(n.state.user));t.image=e.data.image,n.setState({user:t})}))},n.state={loggedInUser:null,user:null},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat(d,"/auth/user"),{withCredentials:!0}).then((function(t){p.a.get("".concat(d,"/users/").concat(t.data._id),{withCredentials:!0}).then((function(a){e.setState({loggedInUser:t.data,user:a.data})}))}))}},{key:"render",value:function(){var e=this;if(!this.state.user)return l.a.createElement(I,null);var t=this.state.user,a=t.username,n=t.image,r=t.password,s=t.email;return l.a.createElement("div",{id:"editProfile"},l.a.createElement("h3",{className:"title"},"Edit your profile"),l.a.createElement("div",{className:"white-card"},l.a.createElement("div",{className:"image-edit"},l.a.createElement("img",{src:n,alt:"Avatar"}),l.a.createElement("div",{className:"input-container"},l.a.createElement("label",{htmlFor:"image"},"Modify your profile picture:"),l.a.createElement("input",{type:"file",id:"image",name:"image",accept:"image/png, image/jpeg",onChange:this.handleImageChange}))),l.a.createElement("div",{className:"input-container"},l.a.createElement("label",null,"Update your username"),l.a.createElement("input",{onChange:this.handleUsernameChange,name:"username",type:"text",placeholder:"Enter username",value:a})),l.a.createElement("div",{className:"input-container"},l.a.createElement("label",null,"Change your email"),l.a.createElement("input",{onChange:this.handleEmailChange,name:"email",type:"email",value:s,placeholder:"Enter email"})),l.a.createElement("div",{className:"input-container"},l.a.createElement("label",null,"Set a new password"),l.a.createElement("input",{onChange:this.handlePasswordChange,name:"password",type:"password",value:r,placeholder:"Enter password"})),l.a.createElement("button",{className:"submit-btn",onClick:function(){return e.props.onEdit(e.state.user)},type:"submit"},l.a.createElement("img",{className:"editLeafL",src:"/images/plant02.png",alt:"o"})," Edit",l.a.createElement("img",{className:"editLeafR",src:"/images/plant.png",alt:"o"}))))}}]),a}(n.Component)),P=a(24),G=a(33),L=(a(122),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={challenges:[],filteredChallenges:[],showPopUp:!1},e.handleSearch=function(t){var a=t.currentTarget.value.toLowerCase(),n=e.state.challenges.filter((function(e){return e.title.toLowerCase().includes(a)||e.description.toLowerCase().includes(a)}));e.setState({filteredChallenges:n})},e.handleCreateClick=function(){!e.props.loggedInUser||e.props.loggedInUser.points<25e3?e.setState({showPopUp:!0}):e.props.history.push("/challenges/create")},e.handleClose=function(){e.setState({showPopUp:!1})},e.handleSort=function(t){t.preventDefault();var a=JSON.parse(JSON.stringify(e.state.filteredChallenges));"low"===t.currentTarget.value?a.sort((function(e,t){return e.points-t.points})):a.sort((function(e,t){return t.points-e.points})),e.setState({filteredChallenges:a})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat(d,"/challenges")).then((function(t){var a=t.data.filter((function(e){return"individual"===e.status}));e.setState({challenges:a,filteredChallenges:a})}))}},{key:"render",value:function(){return this.state.challenges?l.a.createElement("div",{id:"challenges"},l.a.createElement("h3",{className:"challengesTitle"},"Challenges"),l.a.createElement("div",{className:"search-part"},l.a.createElement(P.a,{className:"mb-3"},l.a.createElement(P.a.Prepend,null,l.a.createElement(P.a.Text,{id:"basic-addon1"},"\ud83d\udd0e")),l.a.createElement(G.a,{onChange:this.handleSearch,placeholder:"Search for a challenge","aria-label":"Search for a challenge","aria-describedby":"basic-addon1"})),l.a.createElement(y.a.Control,{onChange:this.handleSort,as:"select",defaultValue:"Sort by..."},l.a.createElement("option",null,"Sort by..."),l.a.createElement("option",{value:"high"},"Points - high to low "),l.a.createElement("option",{value:"low"},"Points - low to high")),this.props.loggedInUser?l.a.createElement(E.a,{className:"bouncy",onClick:this.handleCreateClick},l.a.createElement("img",{className:"plantL",src:"/images/plant02.png",alt:"o"}),"Create a Challenge"):""),l.a.createElement("div",{className:"one-success-container"},this.state.filteredChallenges.map((function(e,t){return l.a.createElement("div",{className:"one-success",key:"challenge"+t},l.a.createElement(b.b,{className:"link",to:"/challenge/".concat(e._id)},l.a.createElement("p",null,e.title),l.a.createElement("p",null,l.a.createElement("strong",null,e.points," points"))))}))),l.a.createElement(g.a,{show:this.state.showPopUp,onHide:this.handleClose},l.a.createElement(g.a.Header,{closeButton:!0},l.a.createElement(g.a.Title,null,"Not yet!")),l.a.createElement(g.a.Body,null,"Achieve Smart Hero rank in order to do that \ud83d\ude09"," "),l.a.createElement(g.a.Footer,null,l.a.createElement(E.a,{variant:"success",onClick:this.handleClose},"Ok, got it")))):l.a.createElement(I,null)}}]),a}(n.Component)),x=a(139),J=a(141),F=a(143),Y=a(140),V=a(142),W=a(144);a(123);function R(e){return l.a.createElement("div",{id:"socialMedia"},l.a.createElement("div",{className:"sharing-logo"},l.a.createElement(x.a,{className:"sharing-logo",url:"https://eco-hero.herokuapp.com/",quote:"Hey! I have achieved this challenge at Eco-Hero! Check it out!"},l.a.createElement(Y.a,{size:30}))),l.a.createElement("div",{className:"sharing-logo"},l.a.createElement(J.a,{className:"sharing-logo",url:"https://eco-hero.herokuapp.com/",quote:"Hey! I have achieved this challenge at Eco-Hero! Check it out!"},l.a.createElement(V.a,{size:30}))),l.a.createElement("div",{className:"sharing-logo"},l.a.createElement(F.a,{className:"sharing-logo",url:"https://eco-hero.herokuapp.com/",quote:"Hey! I have achieved this challenge at Eco-Hero! Check it out!"},l.a.createElement(W.a,{size:30}))))}a(124);var q=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={userAchievements:[],showDeletePopup:!1,targetedAchievID:null,filteredAchievements:[],userGroups:null},e.getUsersInfos=function(){p.a.get("".concat(d,"/achievements/user/").concat(e.props.loggedInUser._id),{withCredentials:!0}).then((function(t){p.a.get("".concat(d,"/groups/user/").concat(e.props.loggedInUser._id),{withCredentials:!0}).then((function(a){console.log(a),e.setState({userAchievements:t.data,filteredAchievements:t.data,userGroups:a.data})}))}))},e.handleClick=function(t){e.setState({showDeletePopup:!0,targetedAchievID:t})},e.handleClose=function(){e.setState({showDeletePopup:!1})},e.handleDelete=function(t){p.a.delete("".concat(d,"/achievements/").concat(t),{withCredentials:!0}).then((function(t){var a=JSON.parse(JSON.stringify(e.state.userAchievements));a.forEach((function(e,n){e._id===t.data._id&&a.splice(n,1)})),e.setState({userAchievements:a,showDeletePopup:!1})}))},e.handleSearchAch=function(t){var a=t.currentTarget.value.toLowerCase(),n=e.state.userAchievements.filter((function(e){return!0===e.completed&&(e.challenge.title.toLowerCase().includes(a)||e.challenge.description.toLowerCase().includes(a))}));e.setState({filteredAchievements:n})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.loggedInUser&&this.getUsersInfos()}},{key:"componentDidUpdate",value:function(e){e.loggedInUser||this.getUsersInfos()}},{key:"render",value:function(){var e=this;return this.state.userAchievements&&this.state.userGroups&&this.props.loggedInUser?l.a.createElement("div",{id:"goalsSuccess"},l.a.createElement("div",{className:"exp-bar"},l.a.createElement(M,{loggedInUser:this.props.loggedInUser})),l.a.createElement("h3",{className:"title"},"Your Goals & Success"),l.a.createElement("div",{className:"white-card"},l.a.createElement("div",{className:"goals"},l.a.createElement("h4",{className:"subtitle"},l.a.createElement("img",{src:"/images/plant02.png",alt:"o"}),"Your EcoHero Tasks"),0===this.state.userAchievements.filter((function(e){return!1===e.completed})).length?l.a.createElement("div",null,"You don't have any goal set yet... "):"",this.state.userAchievements.map((function(t,a){if(!t.completed&&"group"!==t.challenge.status){var n=new Date(t.starting_date),r="0"+n.getDate(),s="0"+(n.getMonth()+1),c=r.slice(-2)+"/"+s.slice(-2);return l.a.createElement("div",{className:"achiev-container",key:"goals"+a},l.a.createElement(b.b,{className:"date-title",to:"/achievement/".concat(t._id)},l.a.createElement("p",null,c),l.a.createElement("h6",null,t.challenge.title)),l.a.createElement("div",{className:"edit-btn"},l.a.createElement(b.b,{to:"/goals-edit/".concat(t._id)},l.a.createElement("img",{src:"/images/valid.png",alt:"Valid"})),l.a.createElement("button",{onClick:function(){return e.handleClick(t._id)}},l.a.createElement("img",{src:"/images/delete.png",alt:"Delete"}))))}})),l.a.createElement("div",{className:"btn-container"},l.a.createElement(b.b,{className:"btn-add",to:"/challenges"},"Add one more !"))),l.a.createElement("div",{className:"events"},l.a.createElement("h4",{className:"subtitle"},l.a.createElement("img",{src:"/images/plant02.png",alt:"o"}),"Your upcoming events"),this.state.userGroups.map((function(t,a){var n=new Date(t.date),r="0"+n.getDate(),s="0"+(n.getMonth()+1);if(n=r.slice(-2)+"/"+s.slice(-2),!1===t.finished)return l.a.createElement("div",{className:"achiev-container",key:"event"+a},l.a.createElement(b.b,{className:"event-info",to:"/groups/".concat(t._id)},l.a.createElement("p",null,n),l.a.createElement("h6",null,t.name),l.a.createElement("p",null,t.location)),t.members[0]._id===e.props.loggedInUser._id?l.a.createElement("div",{className:"edit-btn"},l.a.createElement(b.b,{to:"/event-edit/".concat(t._id)},l.a.createElement("img",{src:"/images/valid.png",alt:"Valid"})),l.a.createElement("button",null,l.a.createElement("img",{src:"/images/delete.png",alt:"Delete"}))):"")}))),l.a.createElement("div",null,l.a.createElement("h4",{className:"subtitle"},l.a.createElement("img",{src:"/images/plant02.png",alt:"o"}),"You already nailed it!"),l.a.createElement(P.a,{className:"mb-3 searchBar"},l.a.createElement(P.a.Prepend,null,l.a.createElement(P.a.Text,{id:"basic-addon1"},"\ud83d\udd0e")),l.a.createElement(G.a,{onChange:this.handleSearchAch,placeholder:"Search for a success","aria-label":"Search for a success","aria-describedby":"basic-addon1"})),0===this.state.filteredAchievements.filter((function(e){return!0===e.completed})).length?l.a.createElement("div",null,"No Success yet... "):"",this.state.filteredAchievements.map((function(e,t){var a=new Date(e.finishing_date),n="0"+a.getDate(),r="0"+(a.getMonth()+1);if(a=n.slice(-2)+"/"+r.slice(-2),e.completed)return l.a.createElement("div",{className:"achiev-container",key:"success"+t},l.a.createElement(b.b,{className:"date-title",to:"/achievement/".concat(e._id)},l.a.createElement("p",null,a),l.a.createElement("h6",null,e.challenge.title)),l.a.createElement(R,{achievementID:e._id}))})),this.state.userGroups.map((function(e,t){var a=new Date(e.date),n="0"+a.getDate(),r="0"+(a.getMonth()+1);if(a=n.slice(-2)+"/"+r.slice(-2),e.finished)return l.a.createElement("div",{className:"achiev-container",key:"success"+t},l.a.createElement(b.b,{className:"date-title",to:"/groups/".concat(e._id)},l.a.createElement("p",null,a),l.a.createElement("h6",null,e.name)),l.a.createElement(R,{achievementID:e._id}))})))),l.a.createElement(g.a,{show:this.state.showDeletePopup,onHide:this.handleClose},l.a.createElement(g.a.Header,{closeButton:!0},l.a.createElement(g.a.Title,null,"Are you sure?")),l.a.createElement(g.a.Body,null,"Are you sure you want to delete this goal from your list ?"),l.a.createElement(g.a.Footer,null,l.a.createElement(E.a,{variant:"danger",onClick:this.handleClose},"No, not yet."),l.a.createElement(E.a,{variant:"success",onClick:function(){return e.handleDelete(e.state.targetedAchievID)}},"Yes, I'm sure!")))):l.a.createElement(I,null)}}]),a}(n.Component);a(125);var z=function(e){return!e.loggedInUser||e.loggedInUser.points<25e3?l.a.createElement(u.a,{to:"/challenges"}):l.a.createElement("div",{id:"createChallenge"},l.a.createElement("h1",{className:"createTitle"},"Create a Challenge"),l.a.createElement("div",{className:"white-card"},l.a.createElement(y.a,{onSubmit:e.onSubmit},l.a.createElement(y.a.Group,{className:"input-container"},l.a.createElement(y.a.Label,{className:"titles"},"Title"),l.a.createElement(y.a.Control,{className:"inputs",name:"title",type:"text",placeholder:"Title of the challenge",required:!0})),l.a.createElement(y.a.Group,{className:"input-container"},l.a.createElement(y.a.Label,{className:"titles"},"Description"),l.a.createElement(y.a.Control,{className:"inputs",name:"description",placeholder:"Describe your challenge",as:"textarea",rows:"3"})),l.a.createElement(y.a.Group,{className:"input-container"},l.a.createElement(y.a.Label,{className:"titles"},"Why is it useful?"),l.a.createElement(y.a.Control,{className:"inputs",name:"fact",placeholder:"Why is your challenge important for the planet?",as:"textarea",rows:"3"})),l.a.createElement(y.a.Group,{className:"input-container"},l.a.createElement(y.a.Label,{className:"titles"},"Points"),l.a.createElement(y.a.Control,{className:"inputs",name:"points",type:"number",max:"10000",min:"50",placeholder:"Max. 10 000"})),l.a.createElement(y.a.Text,null,l.a.createElement("div",{className:"rulesContainer"},l.a.createElement("p",null,l.a.createElement("strong",null,"Guideline:"))),l.a.createElement("div",{className:"summary"},l.a.createElement("p",{className:"rules"},l.a.createElement("strong",null,"1.")," ",l.a.createElement("u",null,"Short term goals"),": between 100 and 1000 points"),l.a.createElement("p",{className:"rules"},l.a.createElement("strong",null,"2.")," ",l.a.createElement("u",null,"Mid term goals"),": between 1000 and 10000 points"),l.a.createElement("p",{className:"rules"},l.a.createElement("strong",null,"3.")," ",l.a.createElement("u",null,"Long term goals"),": 10000+ points")),l.a.createElement("p",{className:"rules"},l.a.createElement("strong",null,"*")," As we want to encourage users to achieve short to mid term goals, ",l.a.createElement("strong",null,"we are capping the points at 10 000"),".")),l.a.createElement(E.a,{className:"createBtn",variant:"primary",type:"submit"},l.a.createElement("img",{className:"imageBtn1",src:"/images/plant02.png",alt:"o"}),"Create Challenge",l.a.createElement("img",{className:"imageBtn2",src:"/images/plant.png",alt:"o"})))))},K=(a(126),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={loggedInUser:null,userGoalsIds:[],showPopUp:!1},e.handleClick=function(){e.state.userGoalsIds.includes(e.props.challenge)?e.setState({showPopUp:!0}):p.a.post("".concat(d,"/achievements/create/").concat(e.props.challenge,"/").concat(e.state.loggedInUser._id),{},{withCredentials:!0}).then((function(t){e.props.onSuccess("Challenge added to your Goals!")}))},e.handleClose=function(t){e.setState({showPopUp:!1})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.state.loggedInUser||p.a.get("".concat(d,"/auth/user"),{withCredentials:!0}).then((function(t){p.a.get("".concat(d,"/users/").concat(t.data._id),{withCredentials:!0}).then((function(t){p.a.get("".concat(d,"/achievements/user/").concat(t.data._id),{withCredentials:!0}).then((function(a){var n=a.data.filter((function(e){return!1===e.completed})).map((function(e){return e.challenge._id}));e.setState({loggedInUser:t.data,userGoalsIds:n})}))}))}))}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,{className:"addThisGoalBtn",onClick:this.handleClick},l.a.createElement("img",{src:"/images/valid.png",alt:"Valid"}),this.props.fromOther?l.a.createElement(l.a.Fragment,null,"I want to do it too!"):l.a.createElement(l.a.Fragment,null,"Add this Goal!")),l.a.createElement(g.a,{show:this.state.showPopUp,onHide:function(){return e.handleClose("modal")}},l.a.createElement(g.a.Header,{closeButton:!0},l.a.createElement(g.a.Title,null,"Not yet!")),l.a.createElement(g.a.Body,null,"You already have this challenge in your on going Goals. Finish it before to do it again. \ud83d\ude09"," "),l.a.createElement(g.a.Footer,null,l.a.createElement(E.a,{variant:"success",onClick:function(){return e.handleClose("modal")}},"Ok, got it"))))}}]),a}(n.Component)),$=Object(u.g)(K),Q=(a(127),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={achievement:null,showDeletePopup:!1},e.handleClick=function(){e.setState({showDeletePopup:!0})},e.handleClose=function(){e.setState({showDeletePopup:!1})},e.handleDelete=function(){p.a.delete("".concat(d,"/achievements/").concat(e.state.achievement._id),{withCredentials:!0}).then((function(t){e.props.history.push("/goals-success")}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.achievementID;p.a.get("".concat(d,"/achievements/").concat(t),{withCredentials:!0}).then((function(t){e.setState({achievement:t.data})}))}},{key:"render",value:function(){if(!this.state.achievement)return l.a.createElement(I,null);var e=this.state.achievement,t=e.challenge,a=e.completed,n=e.user,r=e.image,s=e.finishing_date,c=e.starting_date,o=e._id,i=new Date(c).toLocaleDateString(),m=new Date(s).toLocaleDateString();return l.a.createElement("div",{id:"achievDetails"},l.a.createElement("div",{className:"white-card"},this.props.loggedInUser&&this.props.loggedInUser._id===n._id?"":l.a.createElement(b.b,{to:"/user/".concat(n._id),className:"back-link"},n.username,"'s profile"),l.a.createElement("div",{className:"header"},l.a.createElement("h4",null,t.title),l.a.createElement("p",null,t.points," points")),this.props.loggedInUser?a&&this.props.loggedInUser._id===n._id?l.a.createElement("div",{className:"sharing-logos"},l.a.createElement(R,{achievementID:o})):a?l.a.createElement("div",{className:"sharing-logos"},l.a.createElement($,{challenge:t._id,fromOther:!0})):"":"",a?this.props.loggedInUser&&this.props.loggedInUser._id===n._id?l.a.createElement("h5",{className:"subtitle"},l.a.createElement("img",{src:"/images/plant02.png",alt:"o"})," The task you fulfilled :"," "):l.a.createElement("h5",{className:"subtitle"},l.a.createElement("img",{src:"/images/plant02.png",alt:"o"})," The task ",n.username," fulfilled :"," "):l.a.createElement("h5",{className:"subtitle"}," ",l.a.createElement("img",{src:"/images/plant02.png",alt:"o"})," How to complete this goal?"),l.a.createElement("p",null,t.description),l.a.createElement("h5",{className:"subtitle"},l.a.createElement("img",{src:"/images/plant02.png",alt:"o"})," Why is it helpful?"),l.a.createElement("p",null,t.fact),l.a.createElement("p",{className:"date"},l.a.createElement("strong",null,"Started :")," ",i),a?l.a.createElement(l.a.Fragment,null,l.a.createElement("p",{className:"date"},l.a.createElement("strong",null,"Finished :")," ",m),l.a.createElement("img",{className:"d-block achiev-image",src:r,alt:"Uplaoded"})):l.a.createElement("div",{className:"edit-btn"},l.a.createElement(b.b,{to:"/goals-edit/".concat(o)},l.a.createElement("img",{src:"/images/valid.png",alt:"Valid"})," Complete it"),l.a.createElement("button",{onClick:this.handleClick},l.a.createElement("img",{src:"/images/delete.png",alt:"Delete"})," Delete it !"))),l.a.createElement(g.a,{show:this.state.showDeletePopup,onHide:this.handleClose},l.a.createElement(g.a.Header,{closeButton:!0},l.a.createElement(g.a.Title,null,"Are you sure?")),l.a.createElement(g.a.Body,null,"Are you sure you want to delete this goal from your list ?"),l.a.createElement(g.a.Footer,null,l.a.createElement(E.a,{variant:"danger",onClick:this.handleClose},"No, not yet."),l.a.createElement(E.a,{variant:"success",onClick:this.handleDelete},"Yes, I'm sure!"))))}}]),a}(n.Component)),X=(a(128),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={challenge:null},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.challengeID;p.a.get("".concat(d,"/challenges/").concat(t),{withCredentials:!0}).then((function(t){e.setState({challenge:t.data})}))}},{key:"render",value:function(){return this.state.challenge?l.a.createElement("div",{id:"challengeDetails"},l.a.createElement("div",{className:"white-card"},l.a.createElement("a",{href:"/challenges"},l.a.createElement("img",{src:"/images/back.png",alt:"Back",className:"back-btn"})),l.a.createElement("div",{className:"header"},l.a.createElement("h4",{className:"challengeDetailTitle"},this.state.challenge.title),l.a.createElement("p",null,this.state.challenge.points," points")),l.a.createElement("h5",{className:"subtitle"},l.a.createElement("img",{src:"/images/plant02.png",alt:"o"}),"How to complete this goal?"),l.a.createElement("p",null,this.state.challenge.description),l.a.createElement("h5",{className:"subtitle"},l.a.createElement("img",{src:"/images/plant02.png",alt:"o"}),"Why is it helpful?"),l.a.createElement("p",null,this.state.challenge.fact),this.props.loggedInUser?l.a.createElement("div",{className:"addGoalBtn"},l.a.createElement($,{challenge:this.state.challenge._id,onSuccess:this.props.onSuccess})):"")):l.a.createElement(I,null)}}]),a}(n.Component)),Z=(a(129),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={user:null,userAchievements:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.userID;p.a.get("".concat(d,"/users/").concat(t),{withCredentials:!0}).then((function(t){console.log(t.data),p.a.get("".concat(d,"/achievements/user/").concat(t.data._id),{withCredentials:!0}).then((function(a){e.setState({user:t.data,userAchievements:a.data})}))}))}},{key:"render",value:function(){return this.state.userAchievements&&this.state.user?l.a.createElement("div",{id:"otherProfile"},l.a.createElement("div",{className:"white-card"},l.a.createElement("div",{className:"header"},l.a.createElement("img",{src:this.state.user.image,alt:"Avatar",style:{width:"100px"}}),l.a.createElement("div",null,l.a.createElement("div",{className:"users-info"},l.a.createElement("h5",null,this.state.user.username)),l.a.createElement("div",{className:"points-info"},l.a.createElement("p",{className:"total-rank"},this.state.user.rank),l.a.createElement("p",{className:"total-points"},"- ",this.state.user.points," points")))),l.a.createElement(M,{loggedInUser:this.state.user}),l.a.createElement("div",{className:"user-success"},l.a.createElement("h4",null,l.a.createElement("img",{src:"/images/plant02.png",alt:"o"}),"Success"),this.state.userAchievements.map((function(e,t){if(e.completed){var a=new Date(e.finishing_date),n=a.getDate()+"/"+(a.getMonth()+1);return l.a.createElement("div",{className:"one-success",key:"success"+t},l.a.createElement(b.b,{to:"/achievement/".concat(e._id)},l.a.createElement("p",null,n),l.a.createElement("h6",null,e.challenge.title)))}}))))):l.a.createElement(I,null)}}]),a}(n.Component)),ee=(a(130),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={achievement:null,showPopUp:!1},e.handleImageChange=function(t){var a=new FormData;a.append("imageUrl",t.currentTarget.files[0]),p.a.post("".concat(d,"/upload"),a,{withCredentials:!0}).then((function(t){var a=JSON.parse(JSON.stringify(e.state.achievement));a.image=t.data.image,e.setState({achievement:a})}))},e.handleDateChange=function(t){var a=JSON.parse(JSON.stringify(e.state.achievement));a.finishing_date=t.currentTarget.value,e.setState({achievement:a})},e.handleClick=function(){e.setState({showPopUp:!0})},e.handleClose=function(){e.setState({showPopUp:!1})},e.fixTodayDate=function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1;return t<10&&(t="0"+t),a<10&&(a="0"+a),e.getFullYear()+"-"+a+"-"+t},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.achievementID;console.log(t),p.a.get("".concat(d,"/achievements/").concat(t),{withCredentials:!0}).then((function(t){console.log(t.data),e.setState({achievement:t.data})}))}},{key:"render",value:function(){var e=this;if(!this.state.achievement)return l.a.createElement(I,null);var t=this.state.achievement,a=t.image,n=t.challenge;return l.a.createElement("div",{id:"editGoal"},l.a.createElement("h3",{className:"title"},"Complete this Goal"),l.a.createElement("div",{className:"white-card"},l.a.createElement("div",{className:"header"},l.a.createElement("h4",null,n.title),l.a.createElement("p",null,n.points," points")),l.a.createElement("h5",{className:"subtitle"}," ",l.a.createElement("img",{src:"/images/plant02.png",alt:"o"})," How to complete this goal?"),l.a.createElement("p",null,n.description),l.a.createElement("h5",{className:"subtitle"}," ",l.a.createElement("img",{src:"/images/plant02.png",alt:"o"})," Before you valid this goal"),l.a.createElement("label",{htmlFor:"image"},"1. Download a picture :"),a?l.a.createElement("img",{src:a,alt:"Avatar"}):"",l.a.createElement("input",{type:"file",id:"image",name:"image",accept:"image/png, image/jpeg",onChange:this.handleImageChange}),l.a.createElement("label",{htmlFor:"finishing_date"},"2. When did you finish this task ?"),l.a.createElement("input",{name:"finishing_date",type:"date",onChange:this.handleDateChange,defaultValue:this.fixTodayDate(),max:this.fixTodayDate()}),l.a.createElement("div",{className:"edit-btn"},l.a.createElement("button",{onClick:this.handleClick,type:"submit"},l.a.createElement("img",{src:"/images/valid.png",alt:"Valid"})," Completed !"))),l.a.createElement(g.a,{show:this.state.showPopUp,onHide:this.handleClose},l.a.createElement(g.a.Header,{closeButton:!0},l.a.createElement(g.a.Title,null,"Are you sure?")),l.a.createElement(g.a.Body,null,"If you complete this goal, it will directly go to your success and you won't be able to edit it again. Are you sure you are ready to complete this goal?"),l.a.createElement(g.a.Footer,null,l.a.createElement(E.a,{variant:"danger",onClick:this.handleClose},"No, not yet."),l.a.createElement(E.a,{variant:"success",onClick:function(){return e.props.onUpdate(e.state.achievement)}},"Yes, I'm sure!"))))}}]),a}(n.Component)),te=(a(131),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={groups:[],filteredGroups:[],showPopUp:!1},e.handleSearch=function(t){var a=t.currentTarget.value.toLowerCase(),n=e.state.groups.filter((function(e){return e.name.toLowerCase().includes(a)||e.description.toLowerCase().includes(a)||e.location.toLowerCase().includes(a)}));e.setState({filteredGroups:n})},e.handleCreateClick=function(){!e.props.loggedInUser||e.props.loggedInUser.points<1e4?e.setState({showPopUp:!0}):e.props.history.push("/groups/create")},e.handleClose=function(){e.setState({showPopUp:!1})},e.handleSort=function(t){t.preventDefault();var a=JSON.parse(JSON.stringify(e.state.filteredGroups));"low"===t.currentTarget.value?a.sort((function(e,t){return t.date<e.date?-1:t.date>e.date?1:0})):a.sort((function(e,t){return e.date<t.date?-1:e.date>t.date?1:0})),e.setState({filteredGroups:a})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat(d,"/groups"),{withCredentials:!0}).then((function(t){var a=t.data.filter((function(e){return new Date(e.date)>=new Date(Date.now())}));e.setState({groups:a,filteredGroups:a})}))}},{key:"render",value:function(){return this.state.groups&&this.props.loggedInUser?l.a.createElement("div",{id:"groups"},l.a.createElement("h3",{className:"groupsTitle"},"EcoHero Events"),l.a.createElement("div",{className:"search-part"},l.a.createElement(P.a,{className:"mb-3"},l.a.createElement(P.a.Prepend,null,l.a.createElement(P.a.Text,{id:"basic-addon1"},"\ud83d\udd0e")),l.a.createElement(G.a,{onChange:this.handleSearch,placeholder:"Search for an event","aria-label":"Search for an event","aria-describedby":"basic-addon1"})),l.a.createElement(y.a.Control,{onChange:this.handleSort,as:"select",defaultValue:"Sort by..."},l.a.createElement("option",null,"Sort by..."),l.a.createElement("option",{value:"high"},"Date - now to future "),l.a.createElement("option",{value:"low"},"Date - future to now")),this.props.loggedInUser?l.a.createElement(E.a,{className:"bouncy",onClick:this.handleCreateClick},l.a.createElement("img",{className:"plantL",src:"/images/plant02.png",alt:"o"}),"Create an event"):""),l.a.createElement("h4",{className:"listOfEvents"},"List of events"),l.a.createElement("div",{className:"one-success-container"},this.state.filteredGroups.map((function(e,t){var a=new Date(e.date),n="0"+a.getDate(),r="0"+(a.getMonth()+1);return a=n.slice(-2)+"/"+r.slice(-2),l.a.createElement(b.b,{className:"link",to:"/groups/".concat(e._id)},l.a.createElement("div",{className:"one-success",key:"group"+t},l.a.createElement("div",{className:"event-date"},a),l.a.createElement("div",{className:"event-name"},e.name),l.a.createElement("div",{className:"event-location"},e.location)))}))),l.a.createElement(g.a,{show:this.state.showPopUp,onHide:this.handleClose},l.a.createElement(g.a.Header,{closeButton:!0},l.a.createElement(g.a.Title,null,"Not yet!")),l.a.createElement(g.a.Body,null,"Achieve Chill Hero rank in order to do that \ud83d\ude09"," "),l.a.createElement(g.a.Footer,null,l.a.createElement(E.a,{variant:"success",onClick:this.handleClose},"Ok, got it")))):l.a.createElement(I,null)}}]),a}(n.Component)),ae=a(75),ne=(a(132),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={groupData:null,membersID:[],showPopUp:!1},e.handleJoin=function(){var t=e.props.loggedInUser,a=JSON.parse(JSON.stringify(e.state.groupData)),n=Object(ae.a)(a.members);n.push(t),a.members=n;var l=[];a.members.map((function(e){return l.push(e._id)})),p.a.patch("".concat(d,"/groups/").concat(e.state.groupData._id),{membersList:n},{withCredentials:!0}).then((function(t){e.setState({groupData:a,membersID:l})}))},e.handleValidate=function(){var t=new Date(Date.now());t.setHours(0),t<new Date(e.state.groupData.date)?e.setState({showPopUp:!0}):e.props.history.push("/event-edit/".concat(e.state.groupData._id))},e.handleClose=function(){e.setState({showPopUp:!1})},e.handleLeave=function(){var t=e.props.loggedInUser,a=JSON.parse(JSON.stringify(e.state.groupData)),n=[];a.members.map((function(e){e._id!==t._id&&n.push(e)})),a.members=n;var l=[];a.members.map((function(e){return l.push(e._id)})),p.a.patch("".concat(d,"/groups/").concat(e.state.groupData._id),{membersList:n},{withCredentials:!0}).then((function(t){e.setState({groupData:a,membersID:l})}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.groupID;p.a.get("".concat(d,"/groups/").concat(t),{withCredentials:!0}).then((function(t){var a=[];t.data.members.map((function(e){return a.push(e._id)})),e.setState({groupData:t.data,membersID:a})}))}},{key:"render",value:function(){if(!this.state.groupData)return l.a.createElement(I,null);var e=this.state.groupData,t=e.name,a=e.description,n=e.location,r=e.date,s=e.members,c=e.challenge,o=new Date(r),i="0"+o.getDate(),m="0"+(o.getMonth()+1),u=o.getFullYear();return o=i.slice(-2)+"/"+m.slice(-2)+"/"+u,l.a.createElement("div",{id:"groupDetails"},l.a.createElement("h3",{className:"title"},t),l.a.createElement("div",{className:"white-card"},l.a.createElement("h5",{className:"subtitle"},"Description"),l.a.createElement("p",null,a),l.a.createElement("h5",{className:"subtitle"},"What is it about?"),l.a.createElement("p",null,c.description),l.a.createElement("h5",{className:"subtitle"},"Why is it useful?"),l.a.createElement("p",null,c.fact),l.a.createElement("h5",{className:"subtitle"},"How many points will I get?"),l.a.createElement("p",null,"Each participant will earn ",c.points," points"),l.a.createElement("h5",{className:"subtitle"},"Location"),l.a.createElement("p",null,n),l.a.createElement("h5",{className:"subtitle"},"Date"),l.a.createElement("p",null,o),l.a.createElement("h5",{className:"subtitle"},"Participants"),s.map((function(e,t){return l.a.createElement("div",{key:"member"+t},l.a.createElement(b.b,{to:"/user/".concat(e._id)},"- ",e.username," ",0===t?l.a.createElement("span",null," (creator)"):""))})),this.state.membersID.includes(this.props.loggedInUser._id)?this.state.membersID[0]===this.props.loggedInUser._id?l.a.createElement("button",{onClick:this.handleValidate},"Valid the event"):l.a.createElement("button",{onClick:this.handleLeave},"Leave the event"):l.a.createElement("div",{className:"edit-btn"},l.a.createElement("button",{onClick:this.handleJoin},l.a.createElement("img",{src:"/images/valid.png",alt:"Valid"})," Join the event"))),l.a.createElement(g.a,{show:this.state.showPopUp,onHide:this.handleClose},l.a.createElement(g.a.Header,{closeButton:!0},l.a.createElement(g.a.Title,null,"Not Yet!")),l.a.createElement(g.a.Body,null,"You can't validate an event before it happens!"),l.a.createElement(g.a.Footer,null,l.a.createElement(E.a,{variant:"success",onClick:this.handleClose},"Ok, got it"))))}}]),a}(n.Component)),le=a(59),re=a(52),se=(a(133),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={groupChallenges:[],isSelected:null,showModal:!1,modalMessage:"",modalHeader:"",modalButtonType:"",modalButtonStyle:{}},e.handleChallengeSelect=function(t){e.setState({isSelected:t})},e.handleCreateGroup=function(t){t.preventDefault();var a=new Date(Date.now());a.setHours(0),console.log("are we creating?");var n=t.currentTarget,l=n.name,r=n.description,s=n.location,c=n.date;""===l.value?e.setState({showModal:!0,modalMessage:"Please enter a name for your event",modalHeader:"Oops",modalButtonType:"success"}):null===e.state.isSelected?e.setState({showModal:!0,modalMessage:"Please choose a challenge for your event",modalHeader:"Oops",modalButtonType:"success"}):""===s.value?e.setState({showModal:!0,modalMessage:"Please choose a location for your event",modalHeader:"Oops",modalButtonType:"success"}):""===c.value?e.setState({showModal:!0,modalMessage:"Please choose a date for your event",modalHeader:"Oops",modalButtonType:"success"}):new Date(c.value)<a?e.setState({showModal:!0,modalMessage:"Your event can't be in the past!",modalHeader:"Oops",modalButtonType:"success"}):p.a.post("".concat(d,"/groups/create"),{name:l.value,description:r.value,location:s.value,date:c.value,user:e.props.loggedInUser,challenge:e.state.isSelected},{withCredentials:!0}).then((function(t){e.props.history.push("/groups")}))},e.handleModalClose=function(){e.setState({showModal:!1})},e.fixTodayDate=function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1;return t<10&&(t="0"+t),a<10&&(a="0"+a),e.getFullYear()+"-"+a+"-"+t},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat(d,"/challenges")).then((function(t){var a=t.data.filter((function(e){return"group"===e.status}));e.setState({groupChallenges:a})}))}},{key:"render",value:function(){var e=this;return!this.props.loggedInUser||this.props.loggedInUser.points<1e4?l.a.createElement(u.a,{to:"/groups"}):l.a.createElement("div",{id:"createGroup"},l.a.createElement("h1",{className:"createTitle"},"Create an Event"),l.a.createElement("div",{className:"white-card"},l.a.createElement(y.a,{onSubmit:this.handleCreateGroup},l.a.createElement(y.a.Group,{className:"input-container"},l.a.createElement(y.a.Label,{className:"titles"},"Name of the event"),l.a.createElement(y.a.Control,{className:"inputs",name:"name",type:"text",placeholder:"Name of the event",required:!0})),l.a.createElement(y.a.Group,{className:"input-container"},l.a.createElement(y.a.Label,{className:"titles"},"Description"),l.a.createElement(y.a.Control,{className:"inputs",name:"description",placeholder:"Describe your event",as:"textarea",rows:"3"})),l.a.createElement(y.a.Group,{className:"input-container"},l.a.createElement(y.a.Label,{className:"titles"}," Select a challenge for your event "),l.a.createElement(le.a,null,this.state.groupChallenges.map((function(t,a){return l.a.createElement(re.a,{className:"challengeContainer"},l.a.createElement(re.a.Header,null,l.a.createElement(le.a.Toggle,{className:"accordion-header",as:re.a.Header,variant:"link",eventKey:a+1},l.a.createElement(y.a.Check,{onClick:function(){return e.handleChallengeSelect(t._id)},key:"challenge"+a,type:"radio","aria-label":t._id,name:"challengeSelector",id:t._id}),l.a.createElement("div",null,t.title))),l.a.createElement(le.a.Collapse,{eventKey:a+1},l.a.createElement(re.a.Body,null,l.a.createElement("div",{className:"titles"},"Description:"),l.a.createElement("p",null,t.description),l.a.createElement("div",{className:"titles"},"Why is it useful?"),l.a.createElement("p",null,t.fact),l.a.createElement("div",{className:"titles"},"How many points will I get?"),l.a.createElement("p",null,"Every participant will earn ",t.points," points"))))})))),l.a.createElement(y.a.Group,{className:"input-container"},l.a.createElement(y.a.Label,{className:"titles"},"Location"),l.a.createElement(y.a.Control,{className:"inputs",name:"location",type:"text",placeholder:"Location of the event",required:!0})),l.a.createElement(y.a.Group,{className:"input-container"},l.a.createElement(y.a.Label,{className:"titles"},"Date"),l.a.createElement(y.a.Control,{className:"inputs",name:"date",type:"date",required:!0,min:this.fixTodayDate()})),l.a.createElement(E.a,{className:"createBtn",variant:"primary",type:"submit"},l.a.createElement("img",{className:"imageBtn1",src:"/images/plant02.png",alt:"o"}),"Create an event",l.a.createElement("img",{className:"imageBtn2",src:"/images/plant.png",alt:"o"})))),l.a.createElement(g.a,{show:this.state.showModal,onHide:this.handleModalClose},l.a.createElement(g.a.Header,{closeButton:!0,style:this.state.modalButtonStyle},l.a.createElement(g.a.Title,null,this.state.modalHeader)),l.a.createElement(g.a.Body,null,this.state.modalMessage),l.a.createElement(g.a.Footer,{style:this.state.modalButtonStyle},l.a.createElement(E.a,{variant:this.state.modalButtonType,onClick:this.handleModalClose},"Ok, got it"))))}}]),a}(n.Component)),ce=(a(134),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("section",{className:"page_404"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-12 "},l.a.createElement("div",{className:"col-sm-10 col-sm-offset-1  text-center"},l.a.createElement("div",{className:"four_zero_four_bg"},l.a.createElement("h1",{className:"text-center "},"404")),l.a.createElement("div",{className:"contant_box_404"},l.a.createElement("h3",{className:"h2"},"Look like you're lost"),l.a.createElement("p",null,"the page you are looking for is not avaible!"),l.a.createElement("a",{href:"/",className:"link_404"},"Go to Home"))))))))}}]),a}(n.Component)),oe=(a(135),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={event:null,showPopUp:!1},e.handleImageChange=function(t){var a=new FormData;a.append("imageUrl",t.currentTarget.files[0]),p.a.post("".concat(d,"/upload"),a,{withCredentials:!0}).then((function(t){var a=JSON.parse(JSON.stringify(e.state.event));a.image=t.data.image,e.setState({event:a})}))},e.handleMember=function(e){console.log(e.currentTarget)},e.handleClick=function(){e.setState({showPopUp:!0})},e.handleClose=function(){e.setState({showPopUp:!1})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.eventID;console.log(t),p.a.get("".concat(d,"/groups/").concat(t),{withCredentials:!0}).then((function(t){console.log(t.data),e.setState({event:t.data})}))}},{key:"render",value:function(){var e=this;if(!this.state.event)return l.a.createElement("p",null,"Loading... If you're not login yet, please"," ",l.a.createElement(b.b,{to:"/login"},"click on this link"));var t=this.state.event,a=t.name,n=t.challenge,r=(t.members,t.date),s=t.image;return l.a.createElement("div",{id:"editEvent"},l.a.createElement("h3",{className:"title"},"Validate this Event"),l.a.createElement("div",{className:"white-card"},l.a.createElement("div",{className:"header"},l.a.createElement("h4",null,a),l.a.createElement("p",null,r)),l.a.createElement("h5",{className:"subtitle"}," ",l.a.createElement("img",{src:"/images/plant02.png",alt:"o"})," How to validate this event?"),l.a.createElement("p",null,n.description),l.a.createElement("h5",{className:"subtitle"}," ",l.a.createElement("img",{src:"/images/plant02.png",alt:"o"})," Before you valid this event"),l.a.createElement("label",{htmlFor:"image"},"1. Download a picture :"),s?l.a.createElement("img",{src:s,alt:"Avatar"}):"",l.a.createElement("input",{type:"file",id:"image",name:"image",accept:"image/png, image/jpeg",onChange:this.handleImageChange}),l.a.createElement("label",{htmlFor:"finishing_date"},"2. Who participate to this event ?"),this.state.event.members.map((function(t,a){return l.a.createElement("div",{key:"member"+a,className:"check-box"},l.a.createElement("input",{onChange:e.handleMember,type:"checkbox",id:t.username,name:t.username,value:t._id}),l.a.createElement("label",{for:t.username},t.username))})),l.a.createElement("div",{className:"edit-btn"},l.a.createElement("button",{onClick:this.handleClick,type:"submit"},l.a.createElement("img",{src:"/images/valid.png",alt:"Valid"})," Validate !"))),l.a.createElement(g.a,{show:this.state.showPopUp,onHide:this.handleClose},l.a.createElement(g.a.Header,{closeButton:!0},l.a.createElement(g.a.Title,null,"Are you sure?")),l.a.createElement(g.a.Body,null,"If you valid this event, it will directly go to every participants success and you won't be able to edit it again. Are you sure you are ready to complete this event?"),l.a.createElement(g.a.Footer,null,l.a.createElement(E.a,{variant:"danger",onClick:this.handleClose},"No, not yet."),l.a.createElement(E.a,{variant:"success",onClick:function(){return e.props.onUpdate(e.state.event)}},"Yes, I'm sure!"))))}}]),a}(n.Component)),ie=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={loggedInUser:null,showGeneralModal:!1,modalMessage:"",modalHeader:"",modalButtonType:"",modalButtonStyle:{}},e.handleSignUp=function(t){t.preventDefault();var a=t.currentTarget,n=a.username,l=a.email,r=a.password;p.a.post("".concat(d,"/auth/signup"),{username:n.value,email:l.value,password:r.value},{withCredentials:!0}).then((function(t){console.log(t.data),e.setState({loggedInUser:t.data},(function(){e.props.history.push("/hero-home")}))})).catch((function(t){var a=t.response.data.errorMessage;e.setState({showGeneralModal:!0,modalMessage:a,modalHeader:"Oops!",modalButtonType:"info"})}))},e.handleLogIn=function(t){t.preventDefault();var a=t.currentTarget,n=a.email,l=a.password;p.a.post("".concat(d,"/auth/signin"),{email:n.value,password:l.value},{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data},(function(){e.props.history.push("/hero-home")}))})).catch((function(t){var a=t.response.data.errorMessage;e.setState({showGeneralModal:!0,modalMessage:a,modalHeader:"Oops!",modalButtonType:"info"})}))},e.handleLogOut=function(){p.a.post("".concat(d,"/auth/logout"),{},{withCredentials:!0}).then((function(){e.setState({loggedInUser:null},(function(){e.props.history.push("/")}))}))},e.handleEdit=function(t){if(""===t.username)e.setState({showGeneralModal:!0,modalMessage:"Username can't be blank",modalHeader:"Oops!",modalButtonType:"info"});else if(""===t.email)e.setState({showGeneralModal:!0,modalMessage:"Email can't be blank",modalHeader:"Oops!",modalButtonType:"info"});else if(""===t.password)e.setState({showGeneralModal:!0,modalMessage:"Password can't be blank",modalHeader:"Oops!",modalButtonType:"info"});else{var a={username:t.username,email:t.email,image:t.image,password:t.password};p.a.patch("".concat(d,"/users/").concat(e.state.loggedInUser._id,"/edit"),a,{withCredentials:!0}).then((function(n){console.log(t),delete a.password,a._id=n.data._id,a.points=n.data.points,a.rank=n.data.rank,a.passwordHash=n.data.passwordHash,e.setState({loggedInUser:a},(function(){e.props.history.push("/profile")}))})).catch((function(t){console.log(t.response);var a,n=t.response.data.errorMessage;"DuplicateKey"===n.codeName?Object.keys(n.keyPattern).includes("username")?a="This username already exists. Please select a new one.":Object.keys(n.keyPattern).includes("email")&&(a="This email is already in use. Please select a new one."):a=n,e.setState({showGeneralModal:!0,modalMessage:a,modalHeader:"Oops!",modalButtonType:"info"})}))}},e.handleCreateChall=function(t){t.preventDefault();var a=t.currentTarget,n=a.title,l=a.description,r=a.points,s=a.fact;console.log(r),""===n.value?e.setState({showGeneralModal:!0,modalMessage:"Please enter a title for your challenge",modalHeader:"Oops!",modalButtonType:"info"}):""===r.value||r.value<100||r.value>1e4?(console.log("in the points if"),e.setState({showGeneralModal:!0,modalMessage:"The points should be between 100 and 10.000",modalHeader:"Oops!",modalButtonType:"info"})):p.a.post("".concat(d,"/challenges/create"),{title:n.value,description:l.value,points:r.value,fact:s.value},{withCredentials:!0}).then((function(t){e.props.history.push("/challenges")})).catch((function(t){var a=t.response.data.errorMessage.errors,n=Object.keys(a)[0];e.setState({showGeneralModal:!0,modalMessage:"Please add some ".concat(n," to your challenge"),modalHeader:"Oops!",modalButtonType:"info"})}))},e.handleUpdateGoal=function(t){var a=t.image,n=t._id,l=t.finishing_date;if(new Date(l)>new Date(Date.now()))e.setState({showGeneralModal:!0,modalMessage:"The achievement date should not be in the future",modalHeader:"Oops!",modalButtonType:"success"});else{var r={completed:!0,image:a,finishing_date:l};p.a.patch("".concat(d,"/achievements/").concat(n),r,{withCredentials:!0}).then((function(t){var a=t.data.challenge.points,n=JSON.parse(JSON.stringify(e.state.loggedInUser)),l="",r=!1;n.points+=a;var s=e.handleRank(n.points);if("Big Hero"===s&&(n.points+=1e4),n.rank!==s){n.rank=s,r=!0;var c=e.handleBonus(s);l="You're now a ".concat(s,"! \n          ").concat(c)}console.log(n),p.a.patch("".concat(d,"/users/").concat(e.state.loggedInUser._id,"/edit"),n,{withCredentials:!0}).then((function(t){e.setState({loggedInUser:n,showGeneralModal:!!r,modalMessage:l,modalHeader:"Congratulations!",modalButtonType:"success"},e.props.history.push("/hero-home"))}))}))}},e.handleRank=function(e){return e>=1e5?"Super Hero":e>5e4?"Big Hero":e>25e3?"Smart Hero":e>1e4?"Chill Hero":"New Hero"},e.handleBonus=function(e){switch(e){case"Chill Hero":return"You can now CREATE EVENTS!";case"Smart Hero":return"You can now CREATE CHALLENGES!";case"Big Hero":return"You win 10.000 points bonus!";case"Super Hero":return"You deserve nice surprises! Check your emails, we will contact you soon ;)"}},e.handleUpdateEvent=function(t){var a=t.image,n=t._id,l=t.members,r={finished:!0,image:a};p.a.patch("".concat(d,"/groups/valid/").concat(n),r,{withCredentials:!0}).then((function(t){var a=t.data.challenge.points;console.log(t.data.challenge.points);var n,r="",s=!1;l.forEach((function(t){console.log(t);var l=JSON.parse(JSON.stringify(t));l.points+=a;var c=e.handleRank(l.points);if(l.rank!==c&&(l.rank=c,"Big Hero"===c&&(l.points+=1e4),l._id===e.state.loggedInUser._id)){s=!0;var o=e.handleBonus(c);r="You're now a ".concat(c,"! \n              ").concat(o)}l._id===e.state.loggedInUser._id&&(n=l),console.log(l),p.a.patch("".concat(d,"/users/").concat(l._id,"/edit"),l,{withCredentials:!0}).then((function(e){console.log("user updated",e)}))})),e.setState({loggedInUser:n,showGeneralModal:!!s,modalMessage:r,modalHeader:"Congratulations!",modalButtonType:"success"},e.props.history.push("/hero-home"))}))},e.handleModalClose=function(){e.setState({showGeneralModal:!1})},e.hanldeNotification=function(t){setTimeout(e.handleModalClose,1500),e.setState({showGeneralModal:!0,modalMessage:t,modalHeader:"Youpi!",modalButtonStyle:{display:"none"}},e.props.history.push("/goals-success"))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.state.loggedInUser||p.a.get("".concat(d,"/auth/user"),{withCredentials:!0}).then((function(t){p.a.get("".concat(d,"/users/").concat(t.data._id),{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data})}))}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{id:"app"},l.a.createElement(N,{onLogOut:this.handleLogOut,loggedInUser:this.state.loggedInUser}),this.state.loggedInUser?l.a.createElement(A,null):"",l.a.createElement(u.d,null,l.a.createElement(u.b,{exact:!0,path:"/",component:j}),l.a.createElement(u.b,{path:"/signup",render:function(t){return l.a.createElement(w,Object.assign({onSignUp:e.handleSignUp},t))}}),l.a.createElement(u.b,{path:"/login",render:function(t){return l.a.createElement(C,Object.assign({onLogIn:e.handleLogIn},t))}}),l.a.createElement(u.b,{path:"/ranks",component:k}),l.a.createElement(u.b,{path:"/leaderboard",component:S}),l.a.createElement(u.b,{exact:!0,path:"/profile",render:function(t){return l.a.createElement(T,Object.assign({loggedInUser:e.state.loggedInUser,onDelete:e.handleLogOut},t))}}),l.a.createElement(u.b,{path:"/profile/edit",render:function(t){return l.a.createElement(B,Object.assign({loggedInUser:e.state.loggedInUser,onEdit:e.handleEdit},t))}}),l.a.createElement(u.b,{path:"/hero-home",render:function(t){return l.a.createElement(_,Object.assign({loggedInUser:e.state.loggedInUser},t))}}),l.a.createElement(u.b,{path:"/goals-success",render:function(t){return l.a.createElement(q,Object.assign({loggedInUser:e.state.loggedInUser},t))}}),l.a.createElement(u.b,{exact:!0,path:"/challenges",render:function(t){return l.a.createElement(L,Object.assign({loggedInUser:e.state.loggedInUser},t))}}),l.a.createElement(u.b,{path:"/challenges/create",render:function(t){return l.a.createElement(z,Object.assign({loggedInUser:e.state.loggedInUser,onSubmit:e.handleCreateChall},t))}}),l.a.createElement(u.b,{path:"/achievement/:achievementID",render:function(t){return l.a.createElement(Q,Object.assign({loggedInUser:e.state.loggedInUser},t))}}),l.a.createElement(u.b,{path:"/challenge/:challengeID",render:function(t){return l.a.createElement(X,Object.assign({loggedInUser:e.state.loggedInUser},t,{onSuccess:e.hanldeNotification}))}}),l.a.createElement(u.b,{path:"/user/:userID",render:function(e){return l.a.createElement(Z,e)}}),l.a.createElement(u.b,{path:"/goals-edit/:achievementID",render:function(t){return l.a.createElement(ee,Object.assign({onUpdate:e.handleUpdateGoal},t))}}),l.a.createElement(u.b,{exact:!0,path:"/groups",render:function(t){return l.a.createElement(te,Object.assign({loggedInUser:e.state.loggedInUser},t))}}),l.a.createElement(u.b,{path:"/groups/create",render:function(t){return l.a.createElement(se,Object.assign({onSubmit:e.handleCreateGroup,loggedInUser:e.state.loggedInUser},t))}}),l.a.createElement(u.b,{path:"/groups/:groupID",render:function(t){return l.a.createElement(ne,Object.assign({loggedInUser:e.state.loggedInUser},t))}}),l.a.createElement(u.b,{path:"/event-edit/:eventID",render:function(t){return l.a.createElement(oe,Object.assign({loggedInUser:e.state.loggedInUser,onUpdate:e.handleUpdateEvent},t))}}),l.a.createElement(u.b,{path:"*",component:ce})),l.a.createElement(g.a,{show:this.state.showGeneralModal,onHide:this.handleModalClose},l.a.createElement(g.a.Header,{closeButton:!0,style:this.state.modalButtonStyle},l.a.createElement(g.a.Title,null,this.state.modalHeader)),l.a.createElement(g.a.Body,null,this.state.modalMessage),l.a.createElement(g.a.Footer,{style:this.state.modalButtonStyle},l.a.createElement(E.a,{variant:this.state.modalButtonType,onClick:this.handleModalClose},"Ok, got it"))))}}]),a}(l.a.Component),me=Object(u.g)(ie);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(b.a,null,l.a.createElement(l.a.StrictMode,null,l.a.createElement(me,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}]),[[77,1,2]]]);
//# sourceMappingURL=main.18975ee1.chunk.js.map